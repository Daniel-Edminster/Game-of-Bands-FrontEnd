{"version":3,"sources":["img/GOBLogo-Clean.png","constants.js","Navbar/Navbar.js","SongDisplay/SongDisplay.js","TextInput/TextInput.js","SubmitSong/SubmitSong.js","SongEditor/SongEditor.js","AdminSongDisplay/AdminSongDisplay.js","Bandit/Bandit.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","BASE_URL","Navbar","sessionCheck","url","fetch","credentials","method","then","res","json","console","log","state","auth","setState","username","key","access_token","tokens","refresh_token","expiry","expires_at","expirySeconds","expires_in","getUserLinks","userLinkArray","name","href","class","linkarray","logoutOverride","event","preventDefault","delete_cookie","window","location","document","cookie","renderLinkArray","map","item","i","className","onClick","to","this","src","Logo","alt","target","Component","SongDisplay","convertToTrophy","number","parseInt","getSongList","axios","get","Songs","data","segmentedSongRender","updateProgress","length","loading","getSongJSX","JSX","song","trackTrophy","winner","props","play","data-musicSrc","streamurl","data-name","data-artists","music","lyrics","vocals","round","he","decode","votes","musicvote","lyricsvote","vocalsvote","songJSX","len","cycles","Math","floor","songArray","segment","splice","current","j","push","type","color","height","width","songlist","TextInput","setFileName","filename","value","replace","propfunction","label","ph","placeholder","required","val","onChange","accept","SubmitSong","getAutoCompleteUsers","withCredentials","users","catch","err","toggleUser1","user1NF","validURL","str","RegExp","test","setTypeUserAutocomplete","typedUser","handleSongSubmit","formValues","lyricsheet","submitted","formResponse","errors","renderFormResponse","songPostData","FormData","append","encode","entries","pair","uploading","formClass","postURL","onUploadProgress","ProgressEvent","percentage","loaded","total","progress","progressText","logPercent","setFormMusician","setFormLyricist","setFormVocals","setFormLyricsheet","setFormSongFile","files","setFormSongName","logState","hideSubmittedInfo","errs","Object","keys","forEach","message","aria-label","successResponse","content","formPlaceholders","user2NF","user3NF","placeholders","action","percent","filledBackground","unfilledBackground","Autocomplete","id","options","getOptionLabel","option","style","renderInput","params","TextField","variant","onchange","FormControlLabel","control","Checkbox","checked","user1InDB","SongEditor","fullURL","match","body","JSON","stringify","headers","getSongByID","songURL","handleFormUpdate","hFUformValues","k","v","undefined","AdminSongDisplay","deleteSong","songID","getAttribute","confirm","songsArray","songs","index","_id","deletedSong","jsonResponse","response","hideNotification","showDeletedResponse","data-id","bandit","user","App","startPlayer","playerActive","audioList","singer","musicSrc","opts","mode","toggleMode","autoHiddenCover","glassBg","showThemeSwitch","showDownload","preload","audio","exact","path","render","component","routerProps","audioLists","Boolean","hostname","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"mIAAAA,EAAOC,QAAU,IAA0B,2C,sXCA9BC,G,OAEP,oCCwMSC,E,kDAnMX,aAAc,IAAD,uBACT,gBA0BJC,aAAe,WAIX,IAAIC,EAAG,UAAMH,EAAN,iBACPI,MAAMD,EAAK,CACHE,YAAa,UACbC,OAAQ,QAEfC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAC,GACFE,QAAQC,IAAI,mBAAoBH,GAM7B,QAASA,IAA2B,IAApB,EAAKI,MAAMC,MAC1B,EAAKC,SAAS,CACVD,MAAM,EACNE,SAAUP,EAAIQ,IACdC,aAAcT,EAAIU,OAAOD,aACzBE,cAAeX,EAAIU,OAAOC,cAC1BC,OAAQZ,EAAIU,OAAOG,WACnBC,cAAed,EAAIU,OAAOK,aAE9B,EAAKC,cAAa,IAMlB,EAAKA,cAAa,OA3DjB,EAqEbA,aAAe,SAACX,IAIA,IAATA,GAGCH,QAAQC,IAAI,eAAgBE,GAC5B,EAAKY,cAAgB,CACjB,CACIC,KAAM,EAAKd,MAAMG,SACjBY,KAAK,SAAD,OAAW,EAAKf,MAAMG,UAC1Ba,MAAO,gCAEX,CACIF,KAAM,QACNC,KAAM,SACNC,MAAO,gCAEX,CACIF,KAAM,cACNC,KAAM,cACNC,MAAO,wCAEX,CACIF,KAAM,SACNC,KAAM,UACNC,MAAO,iCAIf,EAAKd,SAAS,CACVe,UAAW,EAAKJ,kBAMpB,EAAKA,cAAgB,CACrB,CACIC,KAAM,QACNC,KAAK,GAAD,OAAK3B,EAAL,gBACJ4B,MAAO,yCAGX,EAAKd,SAAS,CACVe,UAAW,EAAKJ,kBAnHf,EA+HbK,eAAiB,SAACC,GACdA,EAAMC,iBACN,EAAKC,cAAc,oBACnB,EAAK/B,eACL,EAAKY,SAAS,CAAED,MAAM,IACtBqB,OAAOC,SAAS,KApIP,EAyIbF,cAAgB,SAACP,GACbU,SAASC,OAASX,EAAO,6CA1IhB,EA4IbY,gBAAkB,WAEd,OAAQ,EAAK1B,MAAMiB,UAAUU,KAAI,SAACC,EAAMC,GACpC,MAAiB,UAAdD,EAAKd,KACG,yBAAKV,IAAKyB,EAAGC,UAAWF,EAAKZ,OAAO,uBAAGD,KAAMa,EAAKb,MAAOa,EAAKd,OACnD,WAAdc,EAAKd,KACF,yBAAKV,IAAKyB,EAAGC,UAAWF,EAAKZ,OAAO,uBAAGD,KAAMa,EAAKb,KAAMgB,QAAS,EAAKb,gBAAiBU,EAAKd,OAE5F,yBAAKV,IAAKyB,EAAGC,UAAWF,EAAKZ,OAAO,kBAAC,IAAD,CAAMgB,GAAIJ,EAAKb,MAAOa,EAAKd,WAhJ9E,IAAID,EAAgB,CAAC,CACjBC,KAAM,QACNC,KAAK,GAAD,OAAK3B,EAAL,gBACJ4B,MAAO,yCAGX,EAAKhB,MAAQ,CACTC,MAAM,EACNgB,UAAWJ,GAZN,S,gEAoBToB,KAAK3C,iB,+BAsIL,OAEI,yBAAKwC,UAAU,UACX,yBAAKA,UAAU,yBACX,yBAAKA,UAAU,gCACX,yBAAKI,IAAKC,IAAMC,IAAI,sBAAsBN,UAAU,uCAGxD,yBAAKA,UAAU,+BACX,uBAAGf,KAAK,KAAR,WAGJ,yBAAKe,UAAU,+BACf,kBAAC,IAAD,CAAME,GAAG,KAAT,UAGA,yBAAKF,UAAU,+BACf,uBAAGf,KAAK,mCAAmCsB,OAAO,UAAlD,mBAGA,yBAAKP,UAAU,+BACf,uBAAGf,KAAK,wCAAR,aAKJ,yBAAKe,UAAU,0BAILG,KAAKP,wB,GAzLVY,a,qEC0LNC,E,kDArLX,aAAc,IAAD,8BACT,gBASJC,gBAAkB,SAAAC,GACd,OAAa,MAAVA,EACQ,GAEmB,IAArBC,SAASD,GAEP,0BAAMX,UAAU,kBAAhB,qBAFN,GAdI,EAqBba,YAAc,WACV7C,QAAQC,IAAI,6BACZ6C,IAAMC,IAAI,6CACTlD,MAAK,SAAAC,GACFE,QAAQC,IAAI,gBAAiBH,GAC7B,EAAKM,SAAS,CAAE4C,MAAOlD,EAAImD,MAAQ,EAAKC,yBA1BnC,EAoCbC,eAAiB,SAACpB,GACJ,EAAK7B,MAAM8C,MAAMI,OAMlBrB,IAAM,GAAG,EAAK3B,SAAS,CAAEiD,SAAS,KA3ClC,EAmDbC,WAAa,WACT,IAAIC,EAAM,EAAKrD,MAAM8C,MAAMnB,KAAI,SAAC2B,EAAMzB,GAElC,IAAI0B,EAAc,EAAKf,gBAAgBc,EAAKE,QACpC,OAEI,yBAAKpD,IAAKyB,EAAGC,UAAU,qBAEH,yBAAKA,UAAU,+BACX,0BAAMA,UAAU,iBAChBC,QAAS,EAAK0B,MAAMC,KACpBC,gBAAeL,EAAKM,UACpBC,YAAWP,EAAKxC,KAChBgD,eAAA,UAAiBR,EAAKS,MAAtB,aAAgCT,EAAKU,OAArC,aAAgDV,EAAKW,SAJrD,uBAQhC,yBAAKnC,UAAU,kCAAiC,0BAAMA,UAAU,kBAAhB,iBAIpC,yBAAKA,UAAU,4BAA4BwB,EAAKY,OAChD,yBAAKpC,UAAU,2BAA2BqC,IAAGC,OAAOd,EAAKxC,OACzD,yBAAKgB,UAAU,+BACdyB,GAED,yBAAKzB,UAAU,iCAAiCwB,EAAKe,OACrD,yBAAKvC,UAAU,+BAA8B,kBAAC,IAAD,CAAME,GAAE,kBAAasB,EAAKS,OAASjC,UAAU,eAAewB,EAAKS,QAC9G,yBAAKjC,UAAU,iCAAiCwB,EAAKgB,WACrD,yBAAKxC,UAAU,+BAA8B,kBAAC,IAAD,CAAME,GAAE,kBAAasB,EAAKU,QAAUlC,UAAU,eAAewB,EAAKU,SAC/G,yBAAKlC,UAAU,iCAAiCwB,EAAKiB,YACrD,yBAAKzC,UAAU,6BAA4B,kBAAC,IAAD,CAAME,GAAE,kBAAasB,EAAKW,QAAUnC,UAAU,eAAewB,EAAKW,SAC7G,yBAAKnC,UAAU,iCAAiCwB,EAAKkB,gBASrE,EAAKtE,SAAS,CAAEuE,QAASpB,KA5FpB,EAiGbL,oBAAsB,WAElB,IACI0B,EAAM,EAAK1E,MAAM8C,MAAMI,OAEvByB,EAASC,KAAKC,MAAMH,EAHR,IAKZrB,EAAM,GACNyB,EAAS,YAAO,EAAK9E,MAAM8C,OAC/BhD,QAAQC,IAAI+E,GAEZ,IAAI,IAAIjD,EAAE,EAAEA,EAAE8C,EAAO9C,IACrB,CACI,IAAIkD,EAAUD,EAAUE,OAAO,EAXnB,IAYRC,EAAU,EAAKjF,MAAMyE,QACzBpB,EAAO0B,EAAQpD,KAAI,SAAC2B,EAAM4B,GACtB,IAAI3B,EAAc,EAAKf,gBAAgBc,EAAKE,QAC5C,OACI,oCACA,yBAAKpD,IAAK8E,EAAGpD,UAAU,qBAEH,yBAAKA,UAAU,+BACX,0BAAMA,UAAU,iBAChBC,QAAS,EAAK0B,MAAMC,KACpBC,gBAAeL,EAAKM,UACpBC,YAAWP,EAAKxC,KAChBgD,eAAA,UAAiBR,EAAKS,MAAtB,aAAgCT,EAAKU,OAArC,aAAgDV,EAAKW,SAJrD,uBAQA,yBAAKnC,UAAU,kCAAiC,0BAAMA,UAAU,kBAAhB,iBAIpE,yBAAKA,UAAU,4BAA4BwB,EAAKY,OAChD,yBAAKpC,UAAU,2BAA2BqC,IAAGC,OAAOd,EAAKxC,OACzD,yBAAKgB,UAAU,+BACdyB,GAED,yBAAKzB,UAAU,iCAAiCwB,EAAKe,OACrD,yBAAKvC,UAAU,+BAA8B,kBAAC,IAAD,CAAME,GAAE,kBAAasB,EAAKS,OAASjC,UAAU,eAAewB,EAAKS,QAC9G,yBAAKjC,UAAU,iCAAiCwB,EAAKgB,WACrD,yBAAKxC,UAAU,+BAA8B,kBAAC,IAAD,CAAME,GAAE,kBAAasB,EAAKU,QAAUlC,UAAU,eAAewB,EAAKU,SAC/G,yBAAKlC,UAAU,iCAAiCwB,EAAKiB,YACrD,yBAAKzC,UAAU,6BAA4B,kBAAC,IAAD,CAAME,GAAE,kBAAasB,EAAKW,QAAUnC,UAAU,eAAewB,EAAKW,SAC7G,yBAAKnC,UAAU,iCAAiCwB,EAAKkB,iBAOjES,EAAQE,KAAK9B,GACb,EAAKnD,SAAS,CAAEuE,QAASQ,MAnJ7B,EAAKjF,MAAQ,CACT8C,MAAO,GACPK,SAAS,EACTsB,QAAS,IANJ,E,gEAgCT3E,QAAQC,IAAI,yBACZkC,KAAKU,gB,+BA+HL,OAEQ,oCAC+B,IAA9BV,KAAKjC,MAAMyE,QAAQvB,OACpB,yBAAKpB,UAAU,YACf,kBAAC,IAAD,CAAcsD,KAAK,OAAOC,MAAM,UAAUC,OAAQ,KAAMC,MAAO,QAK/D,yBAAKzD,UAAU,eACbG,KAAKjC,MAAMyE,QAAQ9C,KAAI,SAAC6D,EAAU3D,GAAS,OAAO2D,W,GA5K1ClD,a,iBCuDXmD,G,yDA5DX,aAAc,IAAD,8BACT,gBAMJC,YAAc,SAACvE,GACX,IAAIwE,EAAWxE,EAAMkB,OAAOuD,MAAMC,QAAQ,QAAS,IACnD,EAAKpC,MAAMqC,aAAa3E,GACxB,EAAKjB,SAAS,CACVyF,SAAUA,KATd,EAAK3F,MAAQ,CACT2F,SAAU,qBAHL,E,qDAgBT,IAAII,EAAOC,EAAIlF,EAAMsE,EAAiBU,EAQtC,OAPG7D,KAAKwB,MAAMsC,QAAQA,EAAQ9D,KAAKwB,MAAMsC,OACtC9D,KAAKwB,MAAMwC,cAAcD,EAAK/D,KAAKwB,MAAMwC,aACzChE,KAAKwB,MAAM3C,OAAOA,EAAOmB,KAAKwB,MAAM3C,MACpCmB,KAAKwB,MAAMmC,OAAmB3D,KAAKwB,MAAMmC,MACzC3D,KAAKwB,MAAMqC,eAAcA,EAAe7D,KAAKwB,MAAMqC,cAG1C,cAFeV,EAAR,MAAnBnD,KAAKwB,MAAM2B,KAAqB,OAAgBnD,KAAKwB,MAAM2B,OAExB,SAATA,EAGlB,yBAAKtD,UAAU,aACf,+BAAQiE,EAAR,KACA,6BACA,2BAAOX,KAAMA,EAAMa,YAAaD,EAAIlF,KAAMA,EAAMgB,UAAU,iBAAiBoE,UAAQ,EAAEN,MAAO3D,KAAKwB,MAAM0C,IAAKC,SAAUN,MAK7G,SAATV,EAEA,yBAAKtD,UAAU,aACf,+BAAQiE,EAAR,KACA,6BACA,2BAAOM,OAAO,UAAUjB,KAAMA,EAAMtE,KAAMA,EAAMgB,UAAU,4BAA4BoE,UAAQ,EAACE,SAAUnE,KAAKyD,eAG9G,2BAAO5D,UAAU,wBAAwBG,KAAKjC,MAAM2F,WAMpD,yBAAK7D,UAAU,aACf,+BAAQiE,EAAR,KACA,6BACA,8BAAUjF,KAAMA,EAAMgB,UAAU,iBAAiBmE,YAAaD,EAAIE,UAAQ,EAACE,SAAUN,GAAe7D,KAAKwB,MAAM0C,W,GArDvG7D,c,+DC+dTgE,E,kDA7cX,aAAe,IAAD,uBACV,gBA8CJC,qBAAuB,WAEnB3D,IAAM,CACFrD,IAFM,yCAGNG,OAAQ,MACR8G,iBAAiB,IAClB7G,MAAK,SAAAC,GACJ,EAAKM,SAAS,CAAEuG,MAAO7G,EAAImD,UAC5B2D,OAAM,SAAAC,GAAG,OAAI7G,QAAQC,IAAI4G,OAvDlB,EA2DdC,YAAc,WACV,EAAK1G,SAAS,CAAE2G,SAAU,EAAK7G,MAAM6G,WA5D3B,EA+DdvH,aAAe,WAIX,IAAIC,EAAG,UAAMH,EAAN,iBACPI,MAAMD,EAAK,CACHE,YAAa,YAEpBE,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAC,GACFE,QAAQC,IAAI,mBAAoBH,GAI7B,QAASA,IAA2B,IAApB,EAAKI,MAAMC,OAC1B,EAAKC,SAAS,CACVD,MAAM,EACNE,SAAUP,EAAIQ,IACdC,aAAcT,EAAIU,OAAOD,aACzBE,cAAeX,EAAIU,OAAOC,cAC1BC,OAAQZ,EAAIU,OAAOG,WACnBC,cAAed,EAAIU,OAAOK,aAG9B,EAAKT,SAAS,CAAED,MAAM,SAvFpB,EAgGd6G,SAAW,SAACC,GASR,QANc,IAAIC,OAAO,wKAKF,KACNC,KAAKF,IAzGZ,EA6GdG,wBAA0B,SAAC/F,GACvB,IAAIgG,EAAYhG,EAAMkB,OAAOuD,MAC7B9F,QAAQC,IAAIoB,EAAMkB,QAClB,IAAIoE,EAAQ,EAAKzG,MAAMyG,MACvBA,EAAMtB,KAAKgC,GACX,EAAKjH,SAAS,CAAEuG,MAAOA,KAlHb,EAqHdW,iBAAmB,SAACjG,GAIhB,GAHAA,EAAMC,iBAGH,EAAKpB,MAAMqH,WAAW/D,KAAM,CAAC,IAAD,EAI6B,EAAKtD,MAAMqH,WAA7DvG,EAJqB,EAIrBA,KAAMiD,EAJe,EAIfA,MAAOC,EAJQ,EAIRA,OAAQC,EAJA,EAIAA,OAAQqD,EAJR,EAIQA,WAAYhE,EAJpB,EAIoBA,KAG/C,GAAY,KAATxC,GAAyB,KAAViD,GAA2B,KAAXC,GAA4B,KAAXC,GAAgC,KAAfqD,EAW5D,YATA,EAAKpH,SAAS,CACVqH,WAAW,EACXC,aAAc,CACVC,OAAQ,CAAC,CACL,QAAW,+BAGpB,EAAKC,oBAKhB5H,QAAQC,IAAI,EAAKC,MAAMqH,YACvB,IAAIM,EAAe,IAAIC,SACvBD,EAAaE,OAAO,OAAQ/G,GAC5B6G,EAAaE,OAAO,QAAS9D,GAC7B4D,EAAaE,OAAO,SAAU7D,GAC9B2D,EAAaE,OAAO,SAAU5D,GAC9B0D,EAAaE,OAAO,aAAc1D,IAAG2D,OAAOR,IAC5CK,EAAaE,OAAO,OAAQvE,GA5BD,oBAgCVqE,EAAaI,WAhCH,IAgC3B,2BAAyC,CAAC,IAAjCC,EAAgC,QACrClI,QAAQC,IAAIiI,EAAK,GAAI,KAAOA,EAAK,KAjCV,8BAoC3B,EAAK9H,SAAS,CAAC+H,WAAW,EAAMC,UAAW,SAC3CtF,IAAM,CACFrD,IAAK,EAAKS,MAAMmI,QAChBzI,OAAQ,OAERqD,KAAM4E,EACNS,iBAAkB,SAACC,GACf,IAAIC,EAAa1D,KAAKV,MAA+B,IAAvBmE,EAAcE,OAAgBF,EAAcG,OACvE,EAAKxI,MAAMyI,UAAY,IAAI,EAAKvI,SAAS,CAAEwI,aAAc,kBAC5D,EAAKxI,SAAS,CAAEuI,SAAUH,GAAc,EAAKK,eAElDhJ,MAAK,SAAAC,GACJ,EAAKM,SAAS,CAAC+H,WAAW,EAAOV,WAAW,EAAMC,aAAc5H,EAAK8I,aAAc,eAAgBD,SAAU,EAAGP,UAAW,KAC3HpI,QAAQC,IAAIH,MAGf8G,OAAM,SAAAC,GAAG,OAAI7G,QAAQC,IAAI4G,WAI1B,EAAKzG,SAAS,CACVqH,WAAW,EACXC,aAAc,CACVC,OAAQ,CAAC,CACL,QAAW,6BAGpB,EAAKC,qBAxLF,EAkOdiB,WAAa,kBAAM7I,QAAQC,IAAI,EAAKC,MAAMyI,WAlO5B,EAiQdG,gBAAkB,SAAAzH,GACd,IAAIkG,EAAa,EAAKrH,MAAMqH,WAC5BA,EAAWtD,MAAQ5C,EAAMkB,OAAOuD,MAChC,EAAK1F,SAAS,CACVmH,WAAYA,KArQN,EAyQdwB,gBAAkB,SAAA1H,GACd,IAAIkG,EAAa,EAAKrH,MAAMqH,WAC5BA,EAAWrD,OAAS7C,EAAMkB,OAAOuD,MACjC,EAAK1F,SAAS,CACVmH,WAAYA,KA7QN,EAiRdyB,cAAgB,SAAA3H,GACZ,IAAIkG,EAAa,EAAKrH,MAAMqH,WAC5BA,EAAWpD,OAAS9C,EAAMkB,OAAOuD,MACjC,EAAK1F,SAAS,CACVmH,WAAYA,KArRN,EAyRd0B,kBAAoB,SAAA5H,GAChB,IAAIkG,EAAa,EAAKrH,MAAMqH,WAC5BA,EAAWC,WAAanG,EAAMkB,OAAOuD,MACrC,EAAK1F,SAAS,CACVmH,WAAYA,KA7RN,EAiSd2B,gBAAkB,SAAA7H,GACd,IAAIkG,EAAa,EAAKrH,MAAMqH,WAC5BA,EAAW/D,KAAOnC,EAAMkB,OAAO4G,MAAM,GACrC,EAAK/I,SAAS,CACVmH,WAAYA,KArSN,EAySd6B,gBAAkB,SAAA/H,GACd,IAAIkG,EAAa,EAAKrH,MAAMqH,WAC5BA,EAAWvG,KAAOK,EAAMkB,OAAOuD,MAC/B,EAAK1F,SAAS,CACVmH,WAAYA,KA7SN,EAiTd8B,SAAW,WACPrJ,QAAQC,IAAI,EAAKC,MAAMqH,aAlTb,EAqTd+B,kBAAoB,WAChB,EAAKlJ,SAAS,CAACqH,WAAW,KAtThB,EAyTdG,mBAAqB,WACjB5H,QAAQC,IAAI,wBAEZ,GADa,WACC,EAAKC,MAAMwH,aAAe,CAEpC,IAAI6B,EAAO,GASX,OALAC,OAAOC,KAAK,EAAKvJ,MAAMwH,aAAaC,QAAQ+B,SAAQ,SAAApJ,GAChDiJ,EAAKlE,KAAK,EAAKnF,MAAMwH,aAAaC,OAAOrH,GAAKqJ,YAK9C,yBAAK3H,UAAU,0BACX,yBAAKA,UAAU,gCACf,4BAEMuH,EAAK1H,KAAI,SAACC,EAAMC,GACd,OAAO,wBAAIzB,IAAKyB,GAAID,QAK5B,yBAAKE,UAAU,+BAA+BC,QAAS,EAAKqH,mBAAmB,uBAAGM,aAAW,gCAAd,UAKrF,IAAD,EAGoC,EAAK1J,MAAMwH,aAAazE,KAAvDjC,EAHL,EAGKA,KAAMiD,EAHX,EAGWA,MAAOC,EAHlB,EAGkBA,OAAQC,EAH1B,EAG0BA,OACvB0F,EAAe,iBAAa7I,EAAb,wCAAiDiD,EAAjD,aAA2DC,EAA3D,iBAA0EC,EAA1E,KACnB,OAEF,yBAAKnC,UAAU,6BACX,yBAAKA,UAAU,sCACT6H,GAGR,yBAAK7H,UAAU,+BAA+BC,QAAS,EAAKqH,mBAAmB,uBAAGM,aAAW,kCAAd,WAhWnF,IAAIvB,EAAO,UAAO/I,EAAP,WAHD,OAKV,EAAKY,MAAQ,CACT4J,QAAS,oCACTzB,QAASA,EACTZ,WAAW,EACXC,aAAc,GACdqC,iBAAkB,CACd/I,KAAM,0BACNvB,IAAK,uFACLwE,MAAO,aACPC,OAAQ,aACRC,OAAQ,kBACRqD,WAAY,2CAEhBD,WAAY,CACRvG,KAAM,GAENiD,MAAO,GACPC,OAAQ,GACRC,OAAQ,GACRqD,WAAY,GACZhE,KAAM,IAEVrD,MAAM,EACNgI,WAAW,EACXS,aAAc,eACdR,UAAW,GACXzB,MAAO,GACPI,SAAS,EACTiD,SAAS,EACTC,SAAS,GAlCH,E,gEA0CV9H,KAAK3C,eACL2C,KAAKsE,yB,+BAwUL,IANM,IAAD,OAIDyD,EAAe,GACf3C,EAAa,GACjB,MAA0BiC,OAAOvB,QAAQ9F,KAAKjC,MAAM6J,kBAApD,0CAAWzJ,EAAX,KAAgBwF,EAAhB,KAAuEoE,EAAa5J,GAAOwF,EAC3F,IAAI,IAAJ,MAA0B0D,OAAOvB,QAAQ9F,KAAKjC,MAAMqH,YAApD,0CAAWjH,EAAX,KAAgBwF,EAAhB,KAAiEyB,EAAWjH,GAAOwF,EAEnF,OAAuB,IAApB3D,KAAKjC,MAAMC,KAEN,yBAAK6B,UAAU,eAGe,IAAzBG,KAAKjC,MAAMuH,UAAsB,GAAItF,KAAKyF,qBAC3C,0BAAMuC,OAAO,UAAUvK,OAAO,SACJ,IAAzBuC,KAAKjC,MAAMiI,UACR,yBAAKnG,UAAU,kBACVG,KAAKjC,MAAM0I,aAChB,kBAAC,cAAD,CAAawB,QAASjI,KAAKjC,MAAMyI,SACjC0B,iBAAiB,8CACjBC,mBAAmB,mBAIrB,GACE,iDACA,yBAAKtI,UAAW,uBAAyBG,KAAKjC,MAAMkI,WACpD,kBAAC,EAAD,CAAWnC,MAAM,YAAYE,YAAa+D,EAAalJ,KAAMA,KAAK,OAAOqF,IAAKkB,EAAWvG,KAAMgF,aAAc7D,KAAKiH,kBAQlH,6BAAM,6BAEN,yBAAKpH,UAAU,iBAES,IAAvBG,KAAKjC,MAAM6G,QACZ,kBAACwD,EAAA,EAAD,CACAC,GAAG,iBACHC,QAAStI,KAAKjC,MAAMyG,MACpB+D,eAAgB,SAACC,GAAD,OAAYA,GAC5BC,MAAO,CAAEnF,MAAO,KAEhBoF,YAAa,SAACC,GAAD,OAAY,kBAACC,EAAA,EAAD,iBAAeD,EAAf,CAAuB7E,MAAM,gBAAgB+E,QAAQ,SAASC,SAAU,EAAK7D,8BAGlG,kBAAC2D,EAAA,EAAD,CAAWH,MAAO,CAAEnF,MAAO,KAAQQ,MAAM,eAAe+E,QAAQ,WAGpE,kBAACE,EAAA,EAAD,CACIC,QACA,kBAACC,EAAA,EAAD,CACIC,QAASlJ,KAAKjC,MAAMoL,UACpBhF,SAAUnE,KAAK2E,YACf9F,KAAK,WACLuE,MAAM,YAGVU,MAAM,gBAIV,kBAAC,EAAD,CAAWA,MAAM,SAASX,KAAK,WAAWa,YAAa+D,EAAa1C,WAAYxG,KAAK,aAAaqF,IAAKkB,EAAWC,WAAYxB,aAAc7D,KAAK8G,oBACjJ,6BACA,4BAAQjH,UAAU,8BAA8BC,QAASE,KAAKmF,kBAA9D,cAiBZ,yBAAKtF,UAAU,cACX,4BAAKG,KAAKjC,MAAM4J,c,GApcPtH,aC0TV+I,G,gEArUX,aAAc,IAAD,8BACT,gBAoCJ/L,aAAe,WAEX,IAAIC,EAAG,UAAMH,EAAN,iBACPI,MAAMD,EAAK,CACHE,YAAa,YAEpBE,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAC,GACFE,QAAQC,IAAI,mBAAoBH,GAI7B,QAASA,IAA2B,IAApB,EAAKI,MAAMC,OAC1B,EAAKC,SAAS,CACVD,MAAM,EACNE,SAAUP,EAAIQ,IACdC,aAAcT,EAAIU,OAAOD,aACzBE,cAAeX,EAAIU,OAAOC,cAC1BC,OAAQZ,EAAIU,OAAOG,WACnBC,cAAed,EAAIU,OAAOK,aAG9B,EAAKT,SAAS,CAAED,MAAM,SA3DrB,EAoEbmH,iBAAmB,SAACjG,GAKhB,GAJAA,EAAMC,iBAIH,EAAK0F,SAAS,EAAK9G,MAAMqH,WAAW9H,KACvC,CACI,IAEI+L,EAFS,UAAMlM,EAAN,YACJ,EAAKqE,MAAM8H,MAAMX,OAAON,GAKjCxK,QAAQC,IAAI,EAAKC,MAAMqH,YACvBvH,QAAQC,IAAIuL,GACZ9L,MAAM8L,EAAS,CACX5L,OAAQ,QACRD,YAAa,UACb+L,KAAMC,KAAKC,UAAU,EAAK1L,MAAMqH,YAChCsE,QAAS,CACL,eAAgB,sBAGrBhM,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAClBF,MAAK,SAAAC,GACFE,QAAQC,IAAIH,GACZ,EAAKM,SAAS,CACVqH,WAAW,EACXC,aAAc5H,OAGrB8G,OAAM,SAAAC,GACC7G,QAAQC,IAAI4G,WAIpB,EAAKzG,SAAS,CACVqH,WAAW,EACXC,aAAc,CACVC,OAAQ,CACJlI,IAAK,CACDkK,QAAS,yBA7GpB,EAsHb3C,SAAW,SAACC,GASR,QANc,IAAIC,OAAO,wKAKF,KACNC,KAAKF,IA/Hb,EAkIb6E,YAAc,WACV,IAAItB,EAAK,EAAK7G,MAAM8H,MAAMX,OAAON,GAC7BuB,EAAO,UAAMzM,EAAN,aAGXI,MAFcqM,EAAQvB,EAEP,CACX7K,YAAa,UACbC,OAAQ,QACTC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAClBF,MAAK,SAAAC,GACFE,QAAQC,IAAIH,GACZ,EAAKM,SAAS,CACVoD,KAAM1D,EACNyH,WAAYzH,QA/IX,EAoJbgJ,gBAAkB,SAAAzH,GACd,IAAIkG,EAAa,EAAKrH,MAAMqH,WAC5BA,EAAWtD,MAAQ5C,EAAMkB,OAAOuD,MAChC,EAAK1F,SAAS,CACVmH,WAAYA,KAxJP,EA4JbwB,gBAAkB,SAAA1H,GACd,IAAIkG,EAAa,EAAKrH,MAAMqH,WAC5BA,EAAWrD,OAAS7C,EAAMkB,OAAOuD,MACjC,EAAK1F,SAAS,CACVmH,WAAYA,KAhKP,EAoKbyB,cAAgB,SAAA3H,GACZ,IAAIkG,EAAa,EAAKrH,MAAMqH,WAC5BA,EAAWpD,OAAS9C,EAAMkB,OAAOuD,MACjC,EAAK1F,SAAS,CACVmH,WAAYA,KAxKP,EA4Kb0B,kBAAoB,SAAA5H,GAChB,IAAIkG,EAAa,EAAKrH,MAAMqH,WAC5BA,EAAWC,WAAanG,EAAMkB,OAAOuD,MACrC,EAAK1F,SAAS,CACVmH,WAAYA,KAhLP,EAoLb6B,gBAAkB,SAAA/H,GACd,IAAIkG,EAAa,EAAKrH,MAAMqH,WAC5BA,EAAWvG,KAAOK,EAAMkB,OAAOuD,MAC/B,EAAK1F,SAAS,CACVmH,WAAYA,KAxLP,EA4Lb8B,SAAW,WACPrJ,QAAQC,IAAI,EAAKC,MAAMqH,aA7Ld,EAgMbyE,iBAAmB,SAAC3K,GAMhB,IAN0B,MAENA,EAAMkB,OAArBvB,EAFqB,EAErBA,KAAM8E,EAFe,EAEfA,MACPmG,EAAgB,GAGpB,MAAoBzC,OAAOvB,QAAQ,EAAK/H,MAAMqH,YAA9C,eAA2D,CAAC,IAAD,sBAAhD2E,EAAgD,KAA7CC,EAA6C,KAI9BF,EAAcC,GAFpCA,IAAMlL,EAEC,eAANkL,EAAwC7H,IAAG2D,OAAOlC,GAA2BA,EAIvE,eAANoG,EAAwC7H,IAAG2D,OAAOmE,GAAwBA,EAIlF,EAAK/L,SAAS,CACVmH,WAAY0E,GACb,EAAK5C,WApNC,EAwNbA,SAAW,WACPrJ,QAAQC,IAAI,EAAKC,MAAMqH,aAzNd,EA4Nb+B,kBAAoB,WAChB,EAAKlJ,SAAS,CAACqH,WAAW,KA7NjB,EAgObG,mBAAqB,WAEjB,GADa,WACC,EAAK1H,MAAMwH,aAAe,CAEpC,IAAI6B,EAAO,GASX,OALAC,OAAOC,KAAK,EAAKvJ,MAAMwH,aAAaC,QAAQ+B,SAAQ,SAAApJ,GAChDiJ,EAAKlE,KAAK,EAAKnF,MAAMwH,aAAaC,OAAOrH,GAAKqJ,YAK9C,yBAAK3H,UAAU,0BACX,yBAAKA,UAAU,gCACf,4BAEMuH,EAAK1H,KAAI,SAACC,EAAMC,GACd,OAAO,wBAAIzB,IAAKyB,GAAID,QAK5B,yBAAKE,UAAU,+BAA+BC,QAAS,EAAKqH,mBAAmB,uBAAGM,aAAW,gCAAd,UAOvF5J,QAAQC,IAAI,oBAAqB,EAAKC,MAAMwH,cAF3C,MAGoC,EAAKxH,MAAMwH,aAA1C1G,EAHL,EAGKA,KAAMiD,EAHX,EAGWA,MAAOC,EAHlB,EAGkBA,OAAQC,EAH1B,EAG0BA,OACvB0F,EAAe,iBAAa7I,EAAb,sCAA+CiD,EAA/C,aAAyDC,EAAzD,iBAAwEC,EAAxE,KACnB,OAEF,yBAAKnC,UAAU,6BACX,yBAAKA,UAAU,sCACT6H,GAGR,yBAAK7H,UAAU,+BAA+BC,QAAS,EAAKqH,mBAAmB,uBAAGM,aAAW,kCAAd,WAtQnF,EAAK1J,MAAQ,CACT4J,QAAS,oCACTrC,WAAW,EACXC,aAAc,GACdH,WAAY,CACRvG,KAAM,GACNvB,IAAK,GACLwE,MAAO,GACPC,OAAQ,GACRC,OAAQ,GACRqD,WAAY,GACZjD,MAAO,GACPC,UAAW,GACXC,WAAY,GACZC,WAAY,GACZ/B,OAAQ,KAEZxC,MAAM,EACNsI,QAAQ,GArBH,E,gEA4BTzI,QAAQC,IAAI,2BAGZkC,KAAK3C,eAEL2C,KAAK2J,gB,+BAuPL,IADA,IAAIvE,EAAa,GACjB,MAA0BiC,OAAOvB,QAAQ9F,KAAKjC,MAAMqH,YAApD,0CAAWjH,EAAX,KAAgBwF,EAAhB,KAAiEyB,EAAWjH,GAAOwF,EAGnF,OAAuB,IAApB3D,KAAKjC,MAAMC,KAEN,yBAAK6B,UAAU,eAGmB,IAAzBG,KAAKjC,MAAMuH,UAAsB,GAAItF,KAAKyF,0BACrBwE,IAApBjK,KAAKjC,MAAMsD,KAEb,oCACA,0BAAM2G,OAAO,QAAQvK,OAAO,SAC5B,kBAAC,EAAD,CAAWoB,KAAK,OAAOiF,MAAM,YAAYI,IAAKlE,KAAKjC,MAAMqH,WAAWvG,KAAMgF,aAAc7D,KAAKiH,gBAAiBjD,YAAY,KAC1H,kBAAC,EAAD,CAAWnF,KAAK,MAAMiF,MAAM,MAAMI,IAAKlE,KAAKjC,MAAMqH,WAAW9H,IAAKuG,aAAc7D,KAAK6J,mBACrF,kBAAC,EAAD,CAAWhL,KAAK,QAAQiF,MAAM,WAAWI,IAAKlE,KAAKjC,MAAMqH,WAAWtD,MAAO+B,aAAc7D,KAAK2G,gBAAiB3C,YAAY,KAC3H,kBAAC,EAAD,CAAWnF,KAAK,SAASiF,MAAM,WAAWI,IAAKlE,KAAKjC,MAAMqH,WAAWrD,OAAQ8B,aAAc7D,KAAK4G,gBAAiB5C,YAAY,KAC7H,kBAAC,EAAD,CAAWnF,KAAK,SAASiF,MAAM,SAASI,IAAKlE,KAAKjC,MAAMqH,WAAWpD,OAAQ6B,aAAc7D,KAAK6G,cAAe7C,YAAY,KACzH,kBAAC,EAAD,CAAWnF,KAAK,aAAaiF,MAAM,aAAaI,IAAKhC,IAAGC,OAAOnC,KAAKjC,MAAMqH,WAAWC,YAAalC,KAAK,WAAWU,aAAc7D,KAAK8G,kBAAmB9C,YAAY,KACpK,yBAAKnE,UAAU,wBACf,kBAAC,EAAD,CAAWhB,KAAK,QAAQiF,MAAM,cAAcI,IAAKlE,KAAKjC,MAAMqH,WAAWhD,MAAOyB,aAAc7D,KAAK6J,mBACjG,kBAAC,EAAD,CAAWhL,KAAK,YAAYiF,MAAM,cAAcI,IAAKlE,KAAKjC,MAAMqH,WAAW/C,UAAWwB,aAAc7D,KAAK6J,mBACzG,kBAAC,EAAD,CAAWhL,KAAK,aAAaiF,MAAM,eAAeI,IAAKlE,KAAKjC,MAAMqH,WAAW9C,WAAYuB,aAAc7D,KAAK6J,mBAC5G,kBAAC,EAAD,CAAWhL,KAAK,aAAaiF,MAAM,eAAeI,IAAKlE,KAAKjC,MAAMqH,WAAW7C,WAAYsB,aAAc7D,KAAK6J,oBAG5G,yBAAKhK,UAAU,sBACf,4BAAQA,UAAU,qBAAqBC,QAASE,KAAKmF,kBAArD,aAIE,IAOV,yBAAKtF,UAAU,cAAa,4BAAKG,KAAKjC,MAAM4J,c,GA/TnCtH,cCqIV6J,E,kDArIX,aAAc,IAAD,8BACT,gBAwBJC,WAAa,SAACjL,GACV,IAAIkL,EAASlL,EAAMkB,OAAOiK,aAAa,WAEvC,GAAGhL,OAAOiL,QAAQ,8CAA+C,CAC7D,IAAIhN,EAAG,UAAMH,EAAN,mBAAyBiN,GAChC7M,MAAMD,EAAK,CACPG,OAAQ,SACRD,YAAa,YAEdE,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAClBF,MAAK,SAAAC,GAQF,IAFA,IAAI4M,EAAa,EAAKxM,MAAMyM,MACxBC,GAAS,EACL7K,EAAE,EAAEA,EAAE2K,EAAWtJ,OAAOrB,IAC5B,GAAG2K,EAAW3K,GAAG8K,MAAQN,EAAQ,CAC7BK,EAAQ7K,EACR,MAIR2K,EAAWxH,OAAO0H,EAAO,GACzB,EAAKxM,SAAS,CACVuM,MAAOD,EACPI,aAAa,EACbC,aAAcjN,EAAIkN,gBAtDrB,EA0EbC,iBAAmB,WAEf,EAAK7M,SAAS,CAAC0M,aAAa,KAzE5B,EAAK5M,MAAQ,CACTC,MAAM,GAJD,E,gEAYQ,IAAD,OACZV,EAAG,UAAMH,EAAN,aACPI,MAAMD,GACLI,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAC,GAEF,EAAKM,SAAS,CACVuM,MAAO7M,S,4CA+CX,OACI,yBAAKkC,UAAU,oCACX,yBAAKA,UAAU,6CAA6CG,KAAKjC,MAAM6M,cAAmB,yBAAK/K,UAAU,uCAAsC,uBAAGC,QAASE,KAAK8K,iBAAkBrD,aAAW,kCAA9C,Y,+BAWrJ,IAAD,OAGL,OACI,yBAAK5H,UAAU,8BAEU,IAA3BG,KAAKjC,MAAM4M,YAAuB3K,KAAK+K,sBAAwB,GAM7D,yBAAKlL,UAAU,8BACX,yBAAKA,UAAU,qCAAf,KACA,yBAAKA,UAAU,oCAAf,QACA,yBAAKA,UAAU,wCAAf,YACA,yBAAKA,UAAU,wCAAf,YACA,yBAAKA,UAAU,wCAAf,YACA,yBAAKA,UAAU,oCAAf,KACA,yBAAKA,UAAU,oCAAf,KACA,yBAAKA,UAAU,oCAAf,KACA,yBAAKA,UAAU,oCAAf,KACA,yBAAKA,UAAU,sCAAf,WAKC,UAAWG,KAAKjC,MAAWiC,KAAKjC,MAAMyM,MAAM9K,KAAI,SAACC,EAAMC,GACpD,OACI,yBAAKzB,IAAKyB,EAAGC,UAAU,0BACnB,yBAAKA,UAAU,iCAAiCF,EAAKsC,OACrD,yBAAKpC,UAAU,gCAA+B,kBAAC,IAAD,CAAME,GAAE,sBAAiBJ,EAAK+K,MAAQxI,IAAGC,OAAOxC,EAAKd,QACnG,yBAAKgB,UAAU,oCAAoCF,EAAKmC,OACxD,yBAAKjC,UAAU,oCAAoCF,EAAKoC,QACxD,yBAAKlC,UAAU,oCAAoCF,EAAKqC,QACxD,yBAAKnC,UAAU,gCAAgCF,EAAKyC,OACpD,yBAAKvC,UAAU,gCAAgCF,EAAK0C,WACpD,yBAAKxC,UAAU,gCAAgCF,EAAK2C,YACpD,yBAAKzC,UAAU,gCAAgCF,EAAK4C,YACpD,yBAAK1C,UAAU,kCAAiC,uBAAG4H,aAAW,iCAAiCuD,UAASrL,EAAK+K,IAAK5K,QAAS,EAAKqK,YAAhF,UAI5D,yBAAKtK,UAAU,YACf,kBAAC,IAAD,CAAcsD,KAAK,OAAOC,MAAM,UAAUC,OAAQ,KAAMC,MAAO,a,GA5HhDjD,aC8GhBC,G,yDA1GX,aAAc,IAAD,8BACT,gBASJC,gBAAkB,SAAAC,GACd,OAAa,MAAVA,EACQ,GAEmB,IAArBC,SAASD,GAEP,0BAAMX,UAAU,kBAAhB,qBAFN,GAdI,EAqBba,YAAc,WACV,IAAIuK,EAAS,EAAKzJ,MAAM8H,MAAMX,OAAOuC,KACrCrN,QAAQC,IAAI,6BACZ,IAAIuL,EAAO,UAAMlM,EAAN,iBAAuB8N,GAClCtK,IAAMC,IAAIyI,GACT3L,MAAK,SAAAC,GACFE,QAAQC,IAAI,uBAAwBH,GACpC,EAAKM,SAAS,CAAE4C,MAAOlD,EAAImD,MAAQ,EAAKK,gBA5BnC,EAsCbA,WAAa,WACT,IAAIC,EAAM,EAAKrD,MAAM8C,MAAMnB,KAAI,SAAC2B,EAAMzB,GAElC,IAAI0B,EAAc,EAAKf,gBAAgBc,EAAKE,QACpC,OAEI,yBAAKpD,IAAKyB,EAAGC,UAAU,qBAEH,yBAAKA,UAAU,+BACX,0BAAMA,UAAU,iBAChBC,QAAS,EAAK0B,MAAMC,KACpBC,gBAAeL,EAAKM,UACpBC,YAAWP,EAAKxC,KAChBgD,eAAA,UAAiBR,EAAKS,MAAtB,aAAgCT,EAAKU,OAArC,aAAgDV,EAAKW,SAJrD,uBAQhC,yBAAKnC,UAAU,kCAAiC,0BAAMA,UAAU,kBAAhB,iBAIpC,yBAAKA,UAAU,4BAA4BwB,EAAKY,OAChD,yBAAKpC,UAAU,2BAA2BqC,IAAGC,OAAOd,EAAKxC,OACzD,yBAAKgB,UAAU,+BACdyB,GAEG,yBAAKzB,UAAU,iCAAiCwB,EAAKe,OACzD,yBAAKvC,UAAU,+BAA8B,kBAAC,IAAD,CAAME,GAAE,kBAAasB,EAAKS,OAASjC,UAAU,eAAgBwB,EAAKS,QAC/G,yBAAKjC,UAAU,iCAAiCwB,EAAKgB,WACrD,yBAAKxC,UAAU,+BAA8B,kBAAC,IAAD,CAAME,GAAE,kBAAasB,EAAKU,QAAUlC,UAAU,eAAgBwB,EAAKU,SAChH,yBAAKlC,UAAU,iCAAiCwB,EAAKiB,YACrD,yBAAKzC,UAAU,6BAA4B,kBAAC,IAAD,CAAME,GAAE,kBAAasB,EAAKW,QAAUnC,UAAU,eAAgBwB,EAAKW,SAC9G,yBAAKnC,UAAU,iCAAiCwB,EAAKkB,gBAQrE,EAAKtE,SAAS,CAAEuE,QAASpB,KA3E7B,EAAKrD,MAAQ,CACT8C,MAAO,GACPK,SAAS,EACTsB,QAAS,IANJ,E,gEAiCT3E,QAAQC,IAAI,0BAA2BkC,KAAKwB,OAC5CxB,KAAKU,gB,+BAmDL,OAEQ,oCACwB,KAAvBV,KAAKjC,MAAMyE,QACZ,yBAAK3C,UAAU,YACf,kBAAC,IAAD,CAAcsD,KAAK,OAAOC,MAAM,UAAUC,OAAQ,KAAMC,MAAO,QAK/D,yBAAKzD,UAAU,eACdG,KAAKjC,MAAMyE,c,GAjGFnC,c,SCgKX8K,G,yDAtJb,aAAe,IAAD,8BACV,gBAaJC,YAAc,SAAAlM,GAGZrB,QAAQC,IAAIoB,EAAMkB,OAAOiK,aAAa,aAAanL,EAAMkB,OAAOiK,aAAa,gBAAiBnL,EAAMkB,OAAOiK,aAAa,kBACpH,EAAKtM,MAAMsN,aAsBb,EAAKpN,SAAS,CACZqN,UAAW,CACTzM,KAAMK,EAAMkB,OAAO,aACnBmL,OAAQrM,EAAMkB,OAAO,gBACrBoL,SAAUtM,EAAMkB,OAAO,eAzBzB,EAAKnC,SAAS,CAAEoN,cAAc,EAC5BI,KAAM,CACJC,KAAM,OACNC,YAAY,EACZC,iBAAiB,EACjBC,SAAS,EAETC,iBAAiB,EACjBC,cAAc,EACdC,SAAS,GAEXC,MAAQ,CAAC,CACPpN,KAAMK,EAAMkB,OAAOiK,aAAa,aAChCkB,OAAQrM,EAAMkB,OAAOiK,aAAa,gBAClCmB,SAAUtM,EAAMkB,OAAOiK,aAAa,sBAjChC,EAmDd5I,KAAO,SAAAvC,KAnDO,EAuDd7B,aAAe,WAEb,IAAIC,EAAG,UAAMH,EAAN,iBACPI,MAAMD,EAAK,CACHE,YAAa,YAEpBE,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAC,GACFE,QAAQC,IAAI,mBAAoBH,GAE7B,QAASA,IAA2B,IAApB,EAAKI,MAAMC,OAC1B,EAAKC,SAAS,CACVD,MAAM,EACNE,SAAUP,EAAIQ,IACdC,aAAcT,EAAIU,OAAOD,aACzBE,cAAeX,EAAIU,OAAOC,cAC1BC,OAAQZ,EAAIU,OAAOG,WACnBC,cAAed,EAAIU,OAAOK,aAG9B,EAAKT,SAAS,CAAED,MAAM,SAxE5B,EAAKD,MAAQ,CACXC,MAAM,EACN2J,QAAS,oCACT0D,cAAc,GANN,E,gEAWZrL,KAAK3C,iB,+BA2EG,IAAD,OAEL,OACE,yBAAKwC,UAAU,OACb,kBAAC,IAAD,KACA,kBAAC,EAAD,MACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOqM,OAAK,EAACC,KAAK,IAAKC,OAAQ,kBAAM,kBAAC,EAAD,CAAa3K,KAAM,EAAK2J,iBAC7D,kBAAC,IAAD,CAAOc,OAAK,EAACC,KAAK,cAAeE,UAAWhI,IAC5C,kBAAC,IAAD,CAAQ6H,OAAK,EAACC,KAAK,gBAAgBC,OAAQ,SAAAE,GAAW,OAAI,kBAAC,EAAD,iBAAYA,EAAiB,EAAKvO,YAMzE,IAApBiC,KAAKjC,MAAMC,KACV,kBAAC,IAAD,CAAOmO,KAAK,UACZ,yBAAKtM,UAAU,kBACP,yBAAKA,UAAU,gBACb,yBAAKA,UAAU,wBAAf,wBACF,yBAAKA,UAAU,sBAAqB,kBAAC,IAAD,CAAME,GAAG,UAAT,mBACpC,yBAAKF,UAAU,sBAAf,oBAEN,kBAAC,IAAD,KAEE,kBAAC,IAAD,CAAQsM,KAAK,kBAAkBC,OAAQ,SAAAE,GAAW,OAAI,kBAAC,EAAeA,MAEtE,kBAAC,IAAD,CAAOJ,OAAK,EAACC,KAAK,SAASE,UAAWnC,OAU1C,kBAAC,IAAD,CAAOiC,KAAK,UAEV,wBAAItM,UAAU,QAAQG,KAAKjC,MAAM4J,YAOR,IAA5B3H,KAAKjC,MAAMsN,aAGV,kBAAC,IAAD,iBAAwBrL,KAAKjC,MAAM0N,KAAnC,CAAyCc,WAAYvM,KAAKjC,MAAMkO,SAEhE,S,GA1IM5L,cCREmM,QACW,cAA7BnN,OAAOC,SAASmN,UAEe,UAA7BpN,OAAOC,SAASmN,UAEhBpN,OAAOC,SAASmN,SAASnD,MACvB,2DCXNoD,IAASN,OACP,kBAAC,IAAMO,WAAP,KACE,kBAAC,EAAD,OAEFpN,SAASqN,eAAe,SDwHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBrP,MAAK,SAAAsP,GACJA,EAAaC,gBAEdxI,OAAM,SAAAyI,GACLrP,QAAQqP,MAAMA,EAAM1F,c","file":"static/js/main.09472726.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/GOBLogo-Clean.7ef2f3f7.png\";","export const BASE_URL = \r\n    process.env.NODE_ENV === \"production\" \r\n    ? 'https://danieledminster.com:8080'\r\n    : 'http://localhost:8080';\r\n\r\n","import React, { Component } from 'react';\r\nimport { BrowserRouter as Router, Link, Redirect} from 'react-router-dom';\r\nimport Logo from '../img/GOBLogo-Clean.png';\r\nimport './Navbar.css';\r\nimport { BASE_URL } from '../constants';\r\n\r\nclass Navbar extends Component {\r\n    constructor(){\r\n        super();\r\n\r\n\r\n        let userLinkArray = [{\r\n            name: 'Login',\r\n            href: `${BASE_URL}/auth/reddit`,\r\n            class: 'Navbar__Flexbox__Right__Item__Button'\r\n        }];\r\n\r\n        this.state = {\r\n            auth: false,\r\n            linkarray: userLinkArray\r\n        };\r\n\r\n        let userLinkJSX = '';\r\n\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.sessionCheck();\r\n\r\n        // this.state.auth === true ? this.getUserLinks(true): this.getUserLinks(false);\r\n    \r\n\r\n    }\r\n\r\n    sessionCheck = () => {\r\n        // let ls = window.localStorage;\r\n\r\n\r\n        let url = `${BASE_URL}/sessioncheck`;\r\n        fetch(url, { \r\n                credentials: \"include\",\r\n                method: 'GET' \r\n        })\r\n        .then(res => res.json())\r\n        .then(res => {\r\n            console.log(\"Fetch Response: \", res);\r\n\r\n            // https://www.reddit.com/api/v1/access_token\r\n\r\n            // if(\"tokens\" in res)\r\n            \r\n            if(\"key\" in res && this.state.auth === false) {\r\n                this.setState({\r\n                    auth: true,\r\n                    username: res.key,\r\n                    access_token: res.tokens.access_token,\r\n                    refresh_token: res.tokens.refresh_token,\r\n                    expiry: res.tokens.expires_at,\r\n                    expirySeconds: res.tokens.expires_in\r\n                });\r\n                this.getUserLinks(true);\r\n                // console.log('true');\r\n                // console.log('getuserlinks true');\r\n                // console.log(\"state: \", this.state);\r\n            }\r\n            else {\r\n                this.getUserLinks(false);\r\n                // console.log('false');\r\n            }\r\n\r\n        });\r\n \r\n\r\n    }\r\n\r\n\r\n    getUserLinks = (auth) => {\r\n        // let JSX;\r\n\r\n       \r\n        if(auth === true)\r\n        {\r\n\r\n            console.log(\"getUserLinks\", auth);\r\n            this.userLinkArray = [\r\n                { \r\n                    name: this.state.username,\r\n                    href: `/user/${this.state.username}`,\r\n                    class: 'Navbar__Flexbox__Right__Item'\r\n                },\r\n                {\r\n                    name: 'Admin',\r\n                    href: '/admin',\r\n                    class: 'Navbar__Flexbox__Right__Item'\r\n                },\r\n                {\r\n                    name: 'Submit song',\r\n                    href: '/submitsong',\r\n                    class: 'Navbar__Flexbox__Right__Item__Button'\r\n                },\r\n                {\r\n                    name: 'Logout',\r\n                    href: '/logout',\r\n                    class: 'Navbar__Flexbox__Right__Item'\r\n                }\r\n            ];\r\n\r\n            this.setState({\r\n                linkarray: this.userLinkArray\r\n            })\r\n\r\n\r\n        }\r\n        else {\r\n            this.userLinkArray = [\r\n            { \r\n                name: 'Login',\r\n                href: `${BASE_URL}/auth/reddit`,\r\n                class: 'Navbar__Flexbox__Right__Item__Button'\r\n            }];\r\n\r\n            this.setState({\r\n                linkarray: this.userLinkArray\r\n            })\r\n\r\n            // this.userLinkJSX = `<div className=\"Navbar__Flexbox__Right__Item\"><Link to=\"127.0.0.1:4000/auth/login\">Login</Link></div>`;\r\n\r\n            // return this.userLinkJSX;\r\n\r\n        }\r\n        // console.log(this.userLinkJSX);\r\n\r\n    }\r\n\r\n    logoutOverride = (event) => {\r\n        event.preventDefault();\r\n        this.delete_cookie(\"__gameofbandsdev\");\r\n        this.sessionCheck();\r\n        this.setState({ auth: false });\r\n        window.location=\"/\";\r\n    \r\n\r\n    }\r\n    \r\n    delete_cookie = (name) => {\r\n        document.cookie = name + '=; expires=Thu, 01 Jan 1970 00:00:01 GMT;';\r\n      }\r\n    renderLinkArray = () => {\r\n        \r\n        return (this.state.linkarray.map((item, i) => {\r\n            if(item.name === 'Login') \r\n                return <div key={i} className={item.class}><a href={item.href}>{item.name}</a></div>\r\n            else if(item.name === 'Logout') \r\n                return <div key={i} className={item.class}><a href={item.href} onClick={this.logoutOverride}>{item.name}</a></div>\r\n            else \r\n                return <div key={i} className={item.class}><Link to={item.href}>{item.name}</Link></div>\r\n            // return <div key={i} className=\"Navbar__Flexbox__Right__Item\"><Link to={item.href}>{item.name}</Link></div>\r\n        }));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n\r\n            <div className=\"Navbar\">\r\n                <div className=\"Navbar__Flexbox__Left\">\r\n                    <div className=\"Navbar__Flexbox__Left__Brand\">\r\n                        <img src={Logo} alt=\"Game of Bands Logo.\" className=\"Navbar__Flexbox__Left__Brand__img\" />\r\n                    </div>\r\n\r\n                    <div className=\"Navbar__Flexbox__Left__Item\">\r\n                        <a href=\"#\">Rounds</a>\r\n                    </div>\r\n\r\n                    <div className=\"Navbar__Flexbox__Left__Item\">\r\n                    <Link to=\"/\">Songs</Link>\r\n                    </div>\r\n\r\n                    <div className=\"Navbar__Flexbox__Left__Item\">\r\n                    <a href=\"https://reddit.com/r/gameofbands\" target=\"_blank\">/r/gameofbands</a>\r\n                    </div>\r\n\r\n                    <div className=\"Navbar__Flexbox__Left__Item\">\r\n                    <a href=\"https://discordapp.com/invite/h7ywF3\">Discord</a>\r\n                    </div>\r\n        \r\n                </div>\r\n\r\n                <div className=\"Navbar__Flexbox__Right\">\r\n         \r\n\r\n                        {/* { console.log(this.state.linkarray) } */}\r\n                        { this.renderLinkArray()}\r\n\r\n                    \r\n\r\n                </div>\r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Navbar;","import React, { Component } from 'react';\r\nimport './SongDisplay.css';\r\n// import Songs from '../data/songs.json';\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport he from 'he';\r\nimport axios from 'axios';\r\nimport ReactLoading from 'react-loading';\r\n\r\n\r\nclass SongDisplay extends Component {\r\n    constructor(){\r\n        super();\r\n\r\n        this.state = { \r\n            Songs: [], \r\n            loading: true,\r\n            songJSX: []\r\n        };\r\n    }\r\n\r\n    convertToTrophy = number => {\r\n        if(number == null) {\r\n            return \"\";\r\n        } \r\n        else if (parseInt(number) === 1)\r\n        {\r\n            return <span className=\"material-icons\">emoji_events</span>\r\n        }\r\n\r\n    }\r\n\r\n    getSongList = () => {\r\n        console.log('starting song api request');\r\n        axios.get('https://danieledminster.com:8080/all/desc')\r\n        .then(res => {\r\n            console.log(\"songs axios: \", res);\r\n            this.setState({ Songs: res.data }, this.segmentedSongRender);\r\n            // this.setState({ Songs: res.data }, this.getSongJSX);    \r\n        });\r\n    }\r\n\r\n    componentDidMount(){\r\n        console.log('song display rendered');\r\n        this.getSongList();\r\n    }\r\n\r\n    updateProgress = (i) => {\r\n        let max = this.state.Songs.length;\r\n        // console.log(this.state.Songs.length)\r\n        // let max = 1507;\r\n        // let max = 1500;\r\n        // let progress = ( Math.round((i / max) * 100) );\r\n\r\n        if(max - i === 1) this.setState({ loading: false });\r\n        // console.log(progress);\r\n        // if(progress % 0 == 0) console.log(progress);\r\n        // if (progress % 20 === 0 && progress !== this.state.progress && progress !== 0) {\r\n        //     //  this.setState({ progress: progress});\r\n        // }\r\n    }\r\n\r\n    getSongJSX = () => {\r\n        let JSX = this.state.Songs.map((song, i) => {\r\n\r\n            let trackTrophy = this.convertToTrophy(song.winner);\r\n                    return(\r\n\r\n                        <div key={i} className=\"SongDisplay__Item\">\r\n                            \r\n                                            <div className=\"SongDisplay__Item__PlayIcon\" >\r\n                                                <span className=\"material-icons\" \r\n                                                onClick={this.props.play} \r\n                                                data-musicSrc={song.streamurl}\r\n                                                data-name={song.name}\r\n                                                data-artists={`${song.music}, ${song.lyrics}, ${song.vocals}`}>\r\n                play_circle_filled\r\n                </span></div>\r\n\r\n                <div className=\"SongDisplay__Item__PlayListAdd\"><span className=\"material-icons\">\r\n                playlist_add\r\n                </span></div>\r\n            \r\n                            <div className=\"SongDisplay__Item__Round\">{song.round}</div>\r\n                            <div className=\"SongDisplay__Item__Name\">{he.decode(song.name)}</div>\r\n                            <div className=\"SongDisplay__Item__TrackWin\">\r\n                            {trackTrophy}\r\n                                </div>\r\n                            <div className=\"SongDisplay__Item__TrackVotes\">{song.votes}</div>\r\n                            <div className=\"SongDisplay__Item__Musician\"><Link to={`/bandit/${song.music}`} className=\"ProfileLink\">{song.music}</Link></div>\r\n                            <div className=\"SongDisplay__Item__MusicVotes\">{song.musicvote}</div>\r\n                            <div className=\"SongDisplay__Item__Lyricist\"><Link to={`/bandit/${song.lyrics}`} className=\"ProfileLink\">{song.lyrics}</Link></div>\r\n                            <div className=\"SongDisplay__Item__LyricVotes\">{song.lyricsvote}</div>\r\n                            <div className=\"SongDisplay__Item__Vocals\"><Link to={`/bandit/${song.vocals}`} className=\"ProfileLink\">{song.vocals}</Link></div>\r\n                            <div className=\"SongDisplay__Item__VocalVotes\">{song.vocalsvote}</div>\r\n                            \r\n                            \r\n                            \r\n                            \r\n                        </div>\r\n                    );\r\n            });\r\n\r\n            this.setState({ songJSX: JSX });\r\n\r\n    }\r\n\r\n\r\n    segmentedSongRender = () => {\r\n\r\n        let seglength = 25;\r\n        let len = this.state.Songs.length;\r\n        let remainder = len % seglength;\r\n        let cycles = Math.floor(len / seglength);\r\n        let cycleIterator = 0;\r\n        let JSX = '';\r\n        let songArray = [...this.state.Songs];\r\n        console.log(songArray);\r\n\r\n        for(let i=0;i<cycles;i++)\r\n        {\r\n            let segment = songArray.splice(0,seglength);\r\n            let current = this.state.songJSX;\r\n            JSX =  segment.map((song, j) => {\r\n                let trackTrophy = this.convertToTrophy(song.winner);\r\n                return(\r\n                    <>\r\n                    <div key={j} className=\"SongDisplay__Item\">\r\n                        \r\n                                        <div className=\"SongDisplay__Item__PlayIcon\" >\r\n                                            <span className=\"material-icons\" \r\n                                            onClick={this.props.play} \r\n                                            data-musicSrc={song.streamurl}\r\n                                            data-name={song.name}\r\n                                            data-artists={`${song.music}, ${song.lyrics}, ${song.vocals}`}>\r\n                                            play_circle_filled\r\n                                            </span></div>\r\n\r\n                                            <div className=\"SongDisplay__Item__PlayListAdd\"><span className=\"material-icons\">\r\n                                            playlist_add\r\n                                            </span></div>\r\n        \r\n                        <div className=\"SongDisplay__Item__Round\">{song.round}</div>\r\n                        <div className=\"SongDisplay__Item__Name\">{he.decode(song.name)}</div>\r\n                        <div className=\"SongDisplay__Item__TrackWin\">\r\n                        {trackTrophy}\r\n                            </div>\r\n                        <div className=\"SongDisplay__Item__TrackVotes\">{song.votes}</div>\r\n                        <div className=\"SongDisplay__Item__Musician\"><Link to={`/bandit/${song.music}`} className=\"ProfileLink\">{song.music}</Link></div>\r\n                        <div className=\"SongDisplay__Item__MusicVotes\">{song.musicvote}</div>\r\n                        <div className=\"SongDisplay__Item__Lyricist\"><Link to={`/bandit/${song.lyrics}`} className=\"ProfileLink\">{song.lyrics}</Link></div>\r\n                        <div className=\"SongDisplay__Item__LyricVotes\">{song.lyricsvote}</div>\r\n                        <div className=\"SongDisplay__Item__Vocals\"><Link to={`/bandit/${song.vocals}`} className=\"ProfileLink\">{song.vocals}</Link></div>\r\n                        <div className=\"SongDisplay__Item__VocalVotes\">{song.vocalsvote}</div>     \r\n                        \r\n                    </div>\r\n                    </>\r\n                );\r\n                \r\n            });\r\n            current.push(JSX);\r\n            this.setState({ songJSX: current });\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            \r\n                <>\r\n                {this.state.songJSX.length === 0 ? \r\n                <div className=\"MyLoader\">\r\n                <ReactLoading type=\"bars\" color=\"#7c61f7\" height={'5%'} width={'5%'} /> \r\n                </div>\r\n                \r\n                : \r\n                \r\n                <div className=\"SongDisplay\">\r\n                { this.state.songJSX.map((songlist, i) =>  { return songlist  }) }\r\n                </div>\r\n                 \r\n                } \r\n                </>\r\n                \r\n        );\r\n    }\r\n}\r\n\r\nexport default SongDisplay;","import React, { Component } from 'react';\r\nimport './TextInput.css';\r\n\r\n\r\nclass TextInput extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            filename: 'No file selected.'\r\n        }\r\n    }\r\n\r\n    setFileName = (event) => {\r\n        let filename = event.target.value.replace(/^.*\\\\/, \"\");\r\n        this.props.propfunction(event);\r\n        this.setState({\r\n            filename: filename\r\n        })\r\n    }\r\n\r\n    render() {\r\n        let label, ph, name, type, propvalue, propfunction;\r\n        if(this.props.label)  label = this.props.label;\r\n        if(this.props.placeholder)  ph = this.props.placeholder;\r\n        if(this.props.name)  name = this.props.name;\r\n        if(this.props.value) propvalue = this.props.value;\r\n        if(this.props.propfunction) propfunction = this.props.propfunction; \r\n        this.props.type == null  ? type=\"text\" : type = this.props.type;\r\n\r\n        if(type !== \"textarea\" && type !== \"file\") {\r\n\r\n            return(\r\n                <div className=\"TextInput\">\r\n                <label>{label}:</label>\r\n                <div>\r\n                <input type={type} placeholder={ph} name={name} className=\"SubmitSongForm\" required  value={this.props.val} onChange={propfunction} /> \r\n                </div>\r\n                </div>\r\n            );\r\n        }\r\n        else if(type === \"file\") {\r\n            return(\r\n                <div className=\"TextInput\">\r\n                <label>{label}:</label>\r\n                <div>\r\n                <input accept=\"audio/*\" type={type} name={name} className=\"SubmitSongForm__FileInput\" required onChange={this.setFileName} /> \r\n                \r\n                </div>\r\n                <label className=\"TextInput__FileLabel\">{this.state.filename}</label>\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            return(\r\n                <div className=\"TextInput\">\r\n                <label>{label}:</label>\r\n                <div>\r\n                <textarea name={name} className=\"SubmitSongForm\" placeholder={ph} required onChange={propfunction}>{this.props.val}</textarea> \r\n                </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default TextInput;\r\n","import React, { Component } from 'react';\r\nimport TextInput from '../TextInput/TextInput';\r\nimport './SubmitSong.css';\r\nimport axios from 'axios';\r\n// import e from 'cors';\r\n\r\n// import Autocomplete from '@material-ui/core';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\n\r\nimport he from 'he';\r\nimport \"react-step-progress-bar/styles.css\";\r\nimport { ProgressBar, Step } from \"react-step-progress-bar\";\r\n\r\nimport { BASE_URL } from '../constants';\r\n\r\n\r\nclass SubmitSong extends Component {\r\n    constructor() {\r\n        super();\r\n\r\n        let postURL =  `${BASE_URL}/create`;\r\n\r\n        this.state = {\r\n            content: 'You must be logged in to do that.',\r\n            postURL: postURL, \r\n            submitted: false,\r\n            formResponse: '',\r\n            formPlaceholders: {\r\n                name: 'Never Gonna Give You Up',\r\n                url: 'https://soundcloud.com/doomgrip776/rick-astley-never-gonna-give-you-up-airhorn-remix',\r\n                music: 'A musician',\r\n                lyrics: 'A lyricist',\r\n                vocals: 'A vocals person',\r\n                lyricsheet: 'I wrote you but you still ain\\'t callin\\''\r\n            },\r\n            formValues: {\r\n                name: '',\r\n                // url: '',\r\n                music: '',\r\n                lyrics: '',\r\n                vocals: '',\r\n                lyricsheet: '',\r\n                song: ''\r\n            },\r\n            auth: false,\r\n            uploading: false,\r\n            progressText: 'Uploading...',\r\n            formClass: '',\r\n            users: [],\r\n            user1NF: false,\r\n            user2NF: false,\r\n            user3NF: false\r\n\r\n        }\r\n\r\n       \r\n    }\r\n\r\n    componentDidMount() {\r\n        this.sessionCheck();\r\n        this.getAutoCompleteUsers();\r\n        // this.content = 'You must be logged in to do that.';\r\n    }\r\n\r\n    getAutoCompleteUsers = () => {\r\n        let url = \"https://danieledminster.com:8080/users\";\r\n        axios({\r\n            url: url,\r\n            method: 'GET',\r\n            withCredentials: true\r\n        }).then(res => {\r\n            this.setState({ users: res.data });\r\n        }).catch(err => console.log(err));\r\n\r\n    }\r\n\r\n    toggleUser1 = () => {\r\n        this.setState({ user1NF: !this.state.user1NF });\r\n    };\r\n\r\n    sessionCheck = () => {\r\n        // let ls = window.localStorage;\r\n\r\n\r\n        let url = `${BASE_URL}/sessioncheck`;\r\n        fetch(url, { \r\n                credentials: \"include\", \r\n        })\r\n        .then(res => res.json())\r\n        .then(res => {\r\n            console.log(\"Fetch Response: \", res);\r\n\r\n\r\n            \r\n            if(\"key\" in res && this.state.auth === false) {\r\n                this.setState({\r\n                    auth: true,\r\n                    username: res.key,\r\n                    access_token: res.tokens.access_token,\r\n                    refresh_token: res.tokens.refresh_token,\r\n                    expiry: res.tokens.expires_at,\r\n                    expirySeconds: res.tokens.expires_in\r\n                });\r\n\r\n                this.setState({ auth: true} );\r\n            }\r\n            else {\r\n\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    validURL = (str) => {\r\n        //https://stackoverflow.com/questions/5717093/check-if-a-javascript-string-is-a-url\r\n\r\n        var pattern = new RegExp('^(https?:\\\\/\\\\/)?'+ // protocol\r\n          '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|'+ // domain name\r\n          '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))'+ // OR ip (v4) address\r\n          '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*'+ // port and path\r\n          '(\\\\?[;&a-z\\\\d%_.~+=-]*)?'+ // query string\r\n          '(\\\\#[-a-z\\\\d_]*)?$','i'); // fragment locator\r\n        return !!pattern.test(str);\r\n      }\r\n\r\n    \r\n    setTypeUserAutocomplete = (event) => {\r\n        let typedUser = event.target.value;\r\n        console.log(event.target);\r\n        let users = this.state.users;\r\n        users.push(typedUser);\r\n        this.setState({ users: users});\r\n    }\r\n\r\n    handleSongSubmit = (event) => {\r\n        event.preventDefault();\r\n        // console.log(event);\r\n\r\n        if(this.state.formValues.song) {\r\n\r\n\r\n\r\n            let { name, music, lyrics, vocals, lyricsheet, song } = this.state.formValues;\r\n\r\n\r\n            if(name === '' || music === '' || lyrics === '' || vocals === '' || lyricsheet === '')\r\n            {\r\n                    this.setState({\r\n                        submitted: true,\r\n                        formResponse: {\r\n                            errors: [{\r\n                                'message': 'All fields are required.'\r\n                            }]\r\n                        }\r\n                    }, this.renderFormResponse);\r\n\r\n                    return;\r\n            }\r\n            \r\n            console.log(this.state.formValues);\r\n            let songPostData = new FormData();\r\n            songPostData.append('name', name);\r\n            songPostData.append('music', music);\r\n            songPostData.append('lyrics', lyrics);\r\n            songPostData.append('vocals', vocals);\r\n            songPostData.append('lyricsheet', he.encode(lyricsheet));\r\n            songPostData.append('song', song);\r\n            // songPostData.append(Object.keys(this.state.formValues), [this.state.formValues]);\r\n\r\n            // console.log('submit: ', songPostData.entries());\r\n            for (let pair of songPostData.entries()) {\r\n                console.log(pair[0]+ ', ' + pair[1]); \r\n            }\r\n            // songPostData.append('name')\r\n            this.setState({uploading: true, formClass: 'veil' });\r\n            axios({\r\n                url: this.state.postURL,\r\n                method: 'POST',\r\n                // withCredentials: true,\r\n                data: songPostData,\r\n                onUploadProgress: (ProgressEvent) => {\r\n                    let percentage = Math.round( (ProgressEvent.loaded * 100) / ProgressEvent.total );\r\n                    if(this.state.progress >= 99) this.setState({ progressText: 'Converting...'});\r\n                    this.setState({ progress: percentage }, this.logPercent)\r\n                }\r\n            }).then(res => {\r\n                this.setState({uploading: false, submitted: true, formResponse: res, progressText: 'Uploading...', progress: 0, formClass: '' });\r\n                console.log(res)\r\n                // console.log(res.data)\r\n            })\r\n            .catch(err => console.log(err))\r\n\r\n        }\r\n        else {\r\n            this.setState({\r\n                submitted: true,\r\n                formResponse: {\r\n                    errors: [{\r\n                        'message': 'Song file is required.'\r\n                    }]\r\n                }\r\n            }, this.renderFormResponse);\r\n        }\r\n\r\n        // if(this.validURL(this.state.formValues.url))\r\n        // {\r\n        //     let url = 'https://danieledminster.com:8080/create';\r\n        //     // alert(event.target.textContent);\r\n\r\n        //     console.log(this.state.formValues);\r\n\r\n        //     fetch(url, {\r\n        //         method: 'post',\r\n        //         credentials: 'include',\r\n        //         body: JSON.stringify(this.state.formValues),\r\n        //         headers: {\r\n        //             'Content-type': 'application/json'\r\n        //         }\r\n\r\n        //     }).then(res => res.json())\r\n        //     .then(res => {\r\n        //         console.log(res);\r\n        //         this.setState({\r\n        //             submitted: true,\r\n        //             formResponse: res\r\n        //         })\r\n        //     })\r\n        // }\r\n        // else {\r\n        //     this.setState({\r\n        //         submitted: true,\r\n        //         formResponse: {\r\n        //             errors: {\r\n        //                 url: {\r\n        //                     message: 'Invalid Song URL'\r\n        //                 }\r\n        //             }\r\n        //         }\r\n        //     })\r\n        // }\r\n\r\n    }\r\n\r\n    logPercent = () => console.log(this.state.progress);\r\n\r\n    // handleFormUpdate = (event) => {\r\n    //     // console.log(event.target.name);\r\n      \r\n    //     let {name, value} = event.target;\r\n    //     let file = '';\r\n    //     event.target.files === null ? file = '': file=event.target.files[0];\r\n\r\n    //     let hFUformValues = {};\r\n    //     // console.log(value);\r\n\r\n    //     for(const [k, v] of Object.entries(this.state.formValues)) { \r\n    //         // currentFormValues[k] = v;\r\n    //         if(k === name && name !== 'song') {\r\n    //             hFUformValues[k] = value;\r\n    //         }\r\n    //         else if(k === name && name === 'song') {\r\n    //             hFUformValues[k] = file;\r\n    //         }\r\n    //         else {\r\n    //             hFUformValues[k] = v;\r\n    //         }\r\n    //     }\r\n\r\n    //     this.setState({\r\n    //         formValues: hFUformValues\r\n    //     }, this.logState);\r\n\r\n    // }\r\n\r\n    setFormMusician = event => {\r\n        let formValues = this.state.formValues;\r\n        formValues.music = event.target.value;\r\n        this.setState({\r\n            formValues: formValues\r\n        })\r\n    }\r\n\r\n    setFormLyricist = event => {\r\n        let formValues = this.state.formValues;\r\n        formValues.lyrics = event.target.value;\r\n        this.setState({\r\n            formValues: formValues\r\n        })\r\n    }\r\n\r\n    setFormVocals = event => {\r\n        let formValues = this.state.formValues;\r\n        formValues.vocals = event.target.value;\r\n        this.setState({\r\n            formValues: formValues\r\n        })\r\n    }\r\n\r\n    setFormLyricsheet = event => {\r\n        let formValues = this.state.formValues;\r\n        formValues.lyricsheet = event.target.value;\r\n        this.setState({\r\n            formValues: formValues\r\n        })\r\n    }\r\n\r\n    setFormSongFile = event => {\r\n        let formValues = this.state.formValues;\r\n        formValues.song = event.target.files[0];\r\n        this.setState({\r\n            formValues: formValues\r\n        }) \r\n    }\r\n\r\n    setFormSongName = event => {\r\n        let formValues = this.state.formValues;\r\n        formValues.name = event.target.value;\r\n        this.setState({\r\n            formValues: formValues\r\n        }) \r\n    }\r\n\r\n    logState = () => {\r\n        console.log(this.state.formValues);\r\n    }\r\n\r\n    hideSubmittedInfo = () => {\r\n        this.setState({submitted: false});\r\n    }\r\n\r\n    renderFormResponse = () => {\r\n        console.log('render form response');\r\n        let errkey = \"errors\";\r\n        if((errkey in this.state.formResponse)) {\r\n            // let errs = this.state.formResponse.errors\r\n            let errs = [];\r\n\r\n\r\n            // console.log(typeof this.state.formResponse.errors)\r\n            Object.keys(this.state.formResponse.errors).forEach(key => {\r\n                errs.push(this.state.formResponse.errors[key].message);\r\n            })\r\n\r\n\r\n            return ( \r\n                <div className=\"SubmitSong__SubmitInfo\" >\r\n                    <div className=\"SubmitSong__SubmitInfo__List\">\r\n                    <ul>\r\n\r\n                        { errs.map((item, i) => {\r\n                            return <li key={i}>{item}</li>\r\n                        })}\r\n                    </ul>\r\n                    </div>\r\n\r\n                    <div className=\"SubmitSong__SubmitInfo__exit\" onClick={this.hideSubmittedInfo}><a aria-label=\"Close Error Notification Box\">&times;</a></div>\r\n\r\n                </div>\r\n            )\r\n        }\r\n        else {\r\n\r\n\r\n            let { name, music, lyrics, vocals} = this.state.formResponse.data;\r\n            let successResponse = `Song: \"${name}\" successfully submitted for ${music}, ${lyrics}, and ${vocals}.`;\r\n            return ( \r\n            \r\n          <div className=\"SubmitSong__SubmitSuccess\" >\r\n              <div className=\"SubmitSong__SubmitSuccess__Message\">\r\n                  { successResponse }\r\n            </div>\r\n\r\n            <div className=\"SubmitSong__SubmitInfo__exit\" onClick={this.hideSubmittedInfo}><a aria-label=\"Close Success Notification Box\">&times;</a></div>\r\n\r\n        </div>\r\n\r\n            );\r\n\r\n            // return <div className=\"SubmitSong__SubmitInfo\" onClick={this.hideSubmittedInfo}>This is my JSX form response</div>\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n\r\n        \r\n        let placeholders = {};\r\n        let formValues = {};\r\n        for(const [key, value] of Object.entries(this.state.formPlaceholders)) placeholders[key] = value;\r\n        for(const [key, value] of Object.entries(this.state.formValues)) formValues[key] = value;\r\n        \r\n        if(this.state.auth === true) {\r\n            return (\r\n                <div className=\"SubmitSong\">\r\n\r\n\r\n                    {this.state.submitted === false ? '': this.renderFormResponse()}\r\n                    <form action=\"/submit\" method=\"POST\">\r\n                    {this.state.uploading === true ? \r\n                        <div className=\"UploadProgress\">\r\n                            {this.state.progressText}\r\n                        <ProgressBar percent={this.state.progress} \r\n                        filledBackground=\"linear-gradient(to right, #ff3019 ,#cf0404)\" \r\n                        unfilledBackground=\"rgba(0,0,0,0)\" >\r\n                      </ProgressBar>\r\n                      </div>\r\n\r\n                    : '' }\r\n                        <h2>Submit a new song</h2>\r\n                        <div className={\"SubmitSong__Formbox \" + this.state.formClass}>\r\n                        <TextInput label=\"Song Name\" placeholder={placeholders.name} name=\"name\" val={formValues.name} propfunction={this.setFormSongName} />\r\n                        {/* <TextInput label=\"Song URL\" type=\"url\" placeholder={placeholders.url} name=\"url\" value={formValues.url} propfunction={this.handleFormUpdate}/> */}\r\n\r\n                        {/* {/* <TextInput label=\"Song file\" placeholder=\"My Greatest hit.mp3\" name=\"song\" type=\"file\" propfunction={this.setFormSongFile} /> */}\r\n                        {/* <TextInput label=\"Musician\" placeholder={placeholders.music} name=\"music\" val={formValues.music} propfunction={this.setFormMusician}/>\r\n                        <TextInput label=\"Lyricist\" placeholder={placeholders.lyrics} name=\"lyrics\" val={formValues.lyrics} propfunction={this.setFormLyricist}/>\r\n                        <TextInput label=\"Vocalist\" placeholder={placeholders.vocals} name=\"vocals\" val={formValues.vocals} propfunction={this.setFormVocals}/> */}\r\n\r\n                        <br /><br />\r\n\r\n                        <div className=\"UserFormFlex\">\r\n\r\n                        {this.state.user1NF === false ? \r\n                        <Autocomplete\r\n                        id=\"combo-box-demo\"\r\n                        options={this.state.users}\r\n                        getOptionLabel={(option) => option}\r\n                        style={{ width: 500 }} \r\n                        // fullWidth={true}\r\n                        renderInput={(params) => <TextField {...params} label=\"Select a user\" variant=\"filled\" onchange={this.setTypeUserAutocomplete} />} />\r\n\r\n                        : \r\n                            <TextField style={{ width: 500 }}  label=\"Enter a user\" variant=\"filled\" />\r\n                        }\r\n                        \r\n                        <FormControlLabel\r\n                            control={\r\n                            <Checkbox\r\n                                checked={this.state.user1InDB}\r\n                                onChange={this.toggleUser1}\r\n                                name=\"checkedB\"\r\n                                color=\"primary\"\r\n                            />\r\n                            }\r\n                            label=\"Not Found?\"\r\n                        />\r\n                        </div>\r\n\r\n                        <TextInput label=\"Lyrics\" type=\"textarea\" placeholder={placeholders.lyricsheet} name=\"lyricsheet\" val={formValues.lyricsheet} propfunction={this.setFormLyricsheet}/>\r\n                        <div>\r\n                        <button className=\"SubmitSong__Formbox__Button\" onClick={this.handleSongSubmit}>Submit</button>\r\n  \r\n                        </div>\r\n                        </div>\r\n\r\n                        {/* <div>{this.state.content}</div> */}\r\n        \r\n                        \r\n                    </form>\r\n                \r\n        \r\n                </div>\r\n            );\r\n        } \r\n        \r\n        else {\r\n            return (\r\n            <div className=\"SubmitSong\">\r\n                <h4>{this.state.content}</h4>\r\n            </div>\r\n        )\r\n\r\n        } \r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SubmitSong;","import React, { Component } from 'react';\r\nimport '../SubmitSong/SubmitSong.css';\r\nimport './SongEditor.css';\r\nimport TextInput from '../TextInput/TextInput';\r\nimport he from 'he';\r\n\r\nimport { BASE_URL } from './../constants';\r\n\r\n\r\nclass SongEditor extends Component {\r\n    constructor(){\r\n        super();\r\n\r\n        this.state = {\r\n            content: 'You must be logged in to do that.',\r\n            submitted: false,\r\n            formResponse: '',\r\n            formValues: {\r\n                name: '',\r\n                url: '',\r\n                music: '',\r\n                lyrics: '',\r\n                vocals: '',\r\n                lyricsheet: '',\r\n                votes: '',\r\n                musicvote: '',\r\n                lyricsvote: '',\r\n                vocalsvote: '',\r\n                number: '0'\r\n            },\r\n            auth: false,\r\n            loaded: false\r\n\r\n        }\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        console.log(\"Song editor initialized\");\r\n        // console.log(this.props);\r\n        // alert(\"Hi\");\r\n        this.sessionCheck();\r\n\r\n        this.getSongByID();\r\n\r\n    }\r\n\r\n    sessionCheck = () => {\r\n\r\n        let url = `${BASE_URL}/sessioncheck`;\r\n        fetch(url, { \r\n                credentials: \"include\", \r\n        })\r\n        .then(res => res.json())\r\n        .then(res => {\r\n            console.log(\"Fetch Response: \", res);\r\n\r\n\r\n            \r\n            if(\"key\" in res && this.state.auth === false) {\r\n                this.setState({\r\n                    auth: true,\r\n                    username: res.key,\r\n                    access_token: res.tokens.access_token,\r\n                    refresh_token: res.tokens.refresh_token,\r\n                    expiry: res.tokens.expires_at,\r\n                    expirySeconds: res.tokens.expires_in\r\n                });\r\n\r\n                this.setState({ auth: true} );\r\n            }\r\n            else {\r\n\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    handleSongSubmit = (event) => {\r\n        event.preventDefault();\r\n        // console.log(event);\r\n\r\n\r\n        if(this.validURL(this.state.formValues.url))\r\n        {\r\n            let updateURL = `${BASE_URL}/update/`;\r\n            let id = this.props.match.params.id;\r\n            let fullURL = updateURL+id;\r\n            // alert(event.target.textContent);\r\n\r\n\r\n            console.log(this.state.formValues);\r\n            console.log(fullURL)\r\n            fetch(fullURL, {\r\n                method: 'PATCH',\r\n                credentials: 'include',\r\n                body: JSON.stringify(this.state.formValues),\r\n                headers: {\r\n                    'Content-type': 'application/json'\r\n                }\r\n\r\n            }).then(res => res.json())\r\n            .then(res => {\r\n                console.log(res);\r\n                this.setState({\r\n                    submitted: true,\r\n                    formResponse: res\r\n                })\r\n            })\r\n            .catch(err => { \r\n                    console.log(err);\r\n            })\r\n        }\r\n        else {\r\n            this.setState({\r\n                submitted: true,\r\n                formResponse: {\r\n                    errors: {\r\n                        url: {\r\n                            message: 'Invalid Song URL'\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    validURL = (str) => {\r\n        //https://stackoverflow.com/questions/5717093/check-if-a-javascript-string-is-a-url\r\n\r\n        var pattern = new RegExp('^(https?:\\\\/\\\\/)?'+ // protocol\r\n          '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|'+ // domain name\r\n          '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))'+ // OR ip (v4) address\r\n          '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*'+ // port and path\r\n          '(\\\\?[;&a-z\\\\d%_.~+=-]*)?'+ // query string\r\n          '(\\\\#[-a-z\\\\d_]*)?$','i'); // fragment locator\r\n        return !!pattern.test(str);\r\n      }\r\n\r\n    getSongByID = () => {\r\n        let id = this.props.match.params.id;\r\n        let songURL = `${BASE_URL}/song/id/`;\r\n        let fullURL = songURL+id;\r\n\r\n        fetch(fullURL, {\r\n            credentials: 'include',\r\n            method: 'get'\r\n        }).then(res => res.json())\r\n        .then(res => {\r\n            console.log(res);\r\n            this.setState({\r\n                song: res,\r\n                formValues: res\r\n            })\r\n        })\r\n    }\r\n\r\n    setFormMusician = event => {\r\n        let formValues = this.state.formValues;\r\n        formValues.music = event.target.value;\r\n        this.setState({\r\n            formValues: formValues\r\n        })\r\n    }\r\n\r\n    setFormLyricist = event => {\r\n        let formValues = this.state.formValues;\r\n        formValues.lyrics = event.target.value;\r\n        this.setState({\r\n            formValues: formValues\r\n        })\r\n    }\r\n\r\n    setFormVocals = event => {\r\n        let formValues = this.state.formValues;\r\n        formValues.vocals = event.target.value;\r\n        this.setState({\r\n            formValues: formValues\r\n        })\r\n    }\r\n\r\n    setFormLyricsheet = event => {\r\n        let formValues = this.state.formValues;\r\n        formValues.lyricsheet = event.target.value;\r\n        this.setState({\r\n            formValues: formValues\r\n        })\r\n    }\r\n\r\n    setFormSongName = event => {\r\n        let formValues = this.state.formValues;\r\n        formValues.name = event.target.value;\r\n        this.setState({\r\n            formValues: formValues\r\n        }) \r\n    }\r\n\r\n    logState = () => {\r\n        console.log(this.state.formValues);\r\n    }\r\n\r\n    handleFormUpdate = (event) => {\r\n        // console.log(event.target.name);\r\n        let {name, value} = event.target;\r\n        let hFUformValues = {};\r\n        // console.log(value);\r\n\r\n        for(const [k, v] of Object.entries(this.state.formValues)) { \r\n            // currentFormValues[k] = v;\r\n            if(k === name) {\r\n                \r\n                k === 'lyricsheet' ? hFUformValues[k] = he.encode(value): hFUformValues[k] = value;\r\n                \r\n            }\r\n            else {\r\n                k === 'lyricsheet' ? hFUformValues[k] = he.encode(v) : hFUformValues[k] = v;\r\n            }\r\n        }\r\n\r\n        this.setState({\r\n            formValues: hFUformValues\r\n        }, this.logState);\r\n\r\n    }\r\n\r\n    logState = () => {\r\n        console.log(this.state.formValues);\r\n    }\r\n\r\n    hideSubmittedInfo = () => {\r\n        this.setState({submitted: false});\r\n    }\r\n\r\n    renderFormResponse = () => {\r\n        let errkey = \"errors\";\r\n        if((errkey in this.state.formResponse)) {\r\n            // let errs = this.state.formResponse.errors\r\n            let errs = [];\r\n\r\n\r\n            // console.log(typeof this.state.formResponse.errors)\r\n            Object.keys(this.state.formResponse.errors).forEach(key => {\r\n                errs.push(this.state.formResponse.errors[key].message);\r\n            })\r\n\r\n\r\n            return ( \r\n                <div className=\"SubmitSong__SubmitInfo\" >\r\n                    <div className=\"SubmitSong__SubmitInfo__List\">\r\n                    <ul>\r\n\r\n                        { errs.map((item, i) => {\r\n                            return <li key={i}>{item}</li>\r\n                        })}\r\n                    </ul>\r\n                    </div>\r\n\r\n                    <div className=\"SubmitSong__SubmitInfo__exit\" onClick={this.hideSubmittedInfo}><a aria-label=\"Close Error Notification Box\">&times;</a></div>\r\n\r\n                </div>\r\n            )\r\n        }\r\n        else {\r\n\r\n            console.log('log form response', this.state.formResponse);\r\n            let { name, music, lyrics, vocals} = this.state.formResponse;\r\n            let successResponse = `Song: \"${name}\" successfully updated for ${music}, ${lyrics}, and ${vocals}.`;\r\n            return ( \r\n            \r\n          <div className=\"SubmitSong__SubmitSuccess\" >\r\n              <div className=\"SubmitSong__SubmitSuccess__Message\">\r\n                  { successResponse }\r\n            </div>\r\n\r\n            <div className=\"SubmitSong__SubmitInfo__exit\" onClick={this.hideSubmittedInfo}><a aria-label=\"Close Success Notification Box\">&times;</a></div>\r\n\r\n        </div>\r\n\r\n            );\r\n\r\n            // return <div className=\"SubmitSong__SubmitInfo\" onClick={this.hideSubmittedInfo}>This is my JSX form response</div>\r\n        }\r\n    }\r\n\r\n    \r\n    render() {\r\n        // console.log();\r\n\r\n        let formValues = {};\r\n        for(const [key, value] of Object.entries(this.state.formValues)) formValues[key] = value;\r\n\r\n        \r\n        if(this.state.auth === true) {\r\n            return (\r\n                <div className=\"SongEditor\">\r\n                        {/* {this.props.match.params} */}\r\n                    \r\n                        {this.state.submitted === false ? '': this.renderFormResponse()}\r\n                        {(this.state.song !== undefined ) ? \r\n\r\n                        <>\r\n                        <form action=\"/edit\" method=\"PATCH\">\r\n                        <TextInput name=\"name\" label=\"Song Name\" val={this.state.formValues.name} propfunction={this.setFormSongName} placeholder=\"\" /> \r\n                        <TextInput name=\"url\" label=\"URL\" val={this.state.formValues.url} propfunction={this.handleFormUpdate} /> \r\n                        <TextInput name=\"music\" label=\"Musician\" val={this.state.formValues.music} propfunction={this.setFormMusician} placeholder=\"\"/> \r\n                        <TextInput name=\"lyrics\" label=\"Lyricist\" val={this.state.formValues.lyrics} propfunction={this.setFormLyricist} placeholder=\"\"/> \r\n                        <TextInput name=\"lyrics\" label=\"Vocals\" val={this.state.formValues.vocals} propfunction={this.setFormVocals} placeholder=\"\"/>\r\n                        <TextInput name=\"lyricsheet\" label=\"Lyricsheet\" val={he.decode(this.state.formValues.lyricsheet)} type=\"textarea\" propfunction={this.setFormLyricsheet} placeholder=\"\" />\r\n                        <div className=\"SongEditor__Votesbox\">\r\n                        <TextInput name=\"votes\" label=\"Track Votes\" val={this.state.formValues.votes} propfunction={this.handleFormUpdate} /> \r\n                        <TextInput name=\"musicvote\" label=\"Music Votes\" val={this.state.formValues.musicvote} propfunction={this.handleFormUpdate} /> \r\n                        <TextInput name=\"lyricsvote\" label=\"Lyrics Votes\" val={this.state.formValues.lyricsvote} propfunction={this.handleFormUpdate} /> \r\n                        <TextInput name=\"vocalsvote\" label=\"Vocals Votes\" val={this.state.formValues.vocalsvote} propfunction={this.handleFormUpdate} />\r\n                    \r\n                        </div>\r\n                        <div className=\"SongEditor__Submit\">\r\n                        <button className=\"SongEditor__Button\" onClick={this.handleSongSubmit}>Submit</button>\r\n                        </div>\r\n                        </form>\r\n                        </>\r\n                        : '' }   \r\n\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            return (\r\n                <div className=\"SongEditor\"><h3>{this.state.content}</h3></div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default SongEditor;","import React, { Component } from 'react';\r\nimport he from 'he';\r\nimport './AdminSongDisplay.css';\r\nimport { BrowserRouter as Router, Route, Link, Switch } from 'react-router-dom';\r\nimport SongEditor from '../SongEditor/SongEditor';\r\nimport ReactLoading from 'react-loading';\r\nimport { BASE_URL } from '../constants';\r\n\r\nclass AdminSongDisplay extends Component {\r\n    constructor(){\r\n        super();\r\n\r\n        this.state = {\r\n            auth: false,\r\n            // songs: ''\r\n        }\r\n\r\n        // let notifClassList = ' ';\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        let url = `${BASE_URL}/all/desc`;\r\n        fetch(url)\r\n        .then(res => res.json())\r\n        .then(res => {\r\n            // console.log(res);\r\n            this.setState({\r\n                songs: res\r\n            })\r\n        })\r\n\r\n    }\r\n\r\n    deleteSong = (event) => {\r\n        let songID = event.target.getAttribute(\"data-id\");\r\n\r\n        if(window.confirm(\"Are you sure you want to delete this song?\")) {\r\n            let url = `${BASE_URL}/delete/${songID}`;\r\n            fetch(url, { \r\n                method: 'DELETE',\r\n                credentials: 'include'\r\n             \r\n            }).then(res => res.json())\r\n            .then(res => {\r\n                // lsongsArray = this.state.songs;\r\n\r\n                // const index = songsArray.indexOf(songID);\r\n\r\n\r\n                let songsArray = this.state.songs;\r\n                let index = -1;\r\n                for(let i=0;i<songsArray.length;i++) {\r\n                    if(songsArray[i]._id === songID) {\r\n                        index = i;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                songsArray.splice(index, 1);\r\n                this.setState({\r\n                    songs: songsArray,\r\n                    deletedSong: true,\r\n                    jsonResponse: res.response\r\n                });\r\n            })\r\n\r\n            // console.log(\"songarray\", songsArray)\r\n            // const index = songsArray.indexOf(songID);\r\n            // console.log(index);\r\n        }\r\n    }\r\n\r\n    showDeletedResponse() {\r\n\r\n            return (\r\n                <div className=\"AdminSongDisplay__MessageSuccess\">\r\n                    <div className=\"AdminSongDisplay__MessageSuccess__Message\">{this.state.jsonResponse}</div><div className=\"AdminSongDisplay__MessageSuccess__X\"><a onClick={this.hideNotification} aria-label=\"Close Success Notification Box\">&times;</a></div>\r\n                </div>\r\n            );\r\n\r\n    }\r\n\r\n    hideNotification = () => {\r\n        // this.showDeletedResponse(' leaving');\r\n        this.setState({deletedSong: false});\r\n    }\r\n\r\n    render() {\r\n        \r\n        // console.log(this.state.songs);\r\n        return (\r\n            <div className=\"AdminSongDisplayContainer\">\r\n\r\n        { this.state.deletedSong === true ? this.showDeletedResponse() : '' }\r\n\r\n            {/* {this.state.songs.map((item, i) => {\r\n                return <div className=\"AdminSongDisplay__Item\"></div>\r\n            })} */}\r\n\r\n            <div className=\"AdminSongDisplay__Titlebar\">\r\n                <div className=\"AdminSongDisplay__Titlebar__Round\">#</div>\r\n                <div className=\"AdminSongDisplay__Titlebar__Name\">Name</div>\r\n                <div className=\"AdminSongDisplay__Titlebar__Musician\">Musician</div>\r\n                <div className=\"AdminSongDisplay__Titlebar__Lyricist\">Lyricist</div>\r\n                <div className=\"AdminSongDisplay__Titlebar__Vocalist\">Vocalist</div>\r\n                <div className=\"AdminSongDisplay__Titlebar__Vote\">T</div>\r\n                <div className=\"AdminSongDisplay__Titlebar__Vote\">M</div>\r\n                <div className=\"AdminSongDisplay__Titlebar__Vote\">L</div>\r\n                <div className=\"AdminSongDisplay__Titlebar__Vote\">V</div>\r\n                <div className=\"AdminSongDisplay__Titlebar__Delete\">Delete</div>\r\n                \r\n\r\n            </div>\r\n            {\r\n                (\"songs\" in this.state ) ?  this.state.songs.map((item, i) => { \r\n                    return ( \r\n                        <div key={i} className=\"AdminSongDisplay__Item\">\r\n                            <div className=\"AdminSongDisplay__Item__Round\">{item.round}</div>\r\n                            <div className=\"AdminSongDisplay__Item__Name\"><Link to={`/admin/edit/${item._id}`}>{he.decode(item.name)}</Link></div>\r\n                            <div className=\"AdminSongDisplay__Item__Musician\">{item.music}</div>\r\n                            <div className=\"AdminSongDisplay__Item__Lyricist\">{item.lyrics}</div>\r\n                            <div className=\"AdminSongDisplay__Item__Vocalist\">{item.vocals}</div>\r\n                            <div className=\"AdminSongDisplay__Item__Vote\">{item.votes}</div>\r\n                            <div className=\"AdminSongDisplay__Item__Vote\">{item.musicvote}</div>\r\n                            <div className=\"AdminSongDisplay__Item__Vote\">{item.lyricsvote}</div>\r\n                            <div className=\"AdminSongDisplay__Item__Vote\">{item.vocalsvote}</div>\r\n                            <div className=\"AdminSongDisplay__Item__Delete\"><a aria-label=\"Close Success Notification Box\" data-id={item._id} onClick={this.deleteSong}>X</a></div>\r\n                        </div> )\r\n                }) :                 \r\n                \r\n                <div className=\"MyLoader\">\r\n                <ReactLoading type=\"spin\" color=\"#7c61f7\" height={'5%'} width={'5%'} /> \r\n                </div>\r\n            }\r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default AdminSongDisplay;","import React, { Component } from 'react';\r\nimport './Bandit.css';\r\n// import Songs from '../data/songs.json';\r\nimport he from 'he';\r\nimport axios from 'axios';\r\nimport ReactLoading from 'react-loading';\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport { BASE_URL } from '../constants';\r\n\r\n\r\nclass SongDisplay extends Component {\r\n    constructor(){\r\n        super();\r\n\r\n        this.state = { \r\n            Songs: [], \r\n            loading: true,\r\n            songJSX: ''\r\n        };\r\n    }\r\n\r\n    convertToTrophy = number => {\r\n        if(number == null) {\r\n            return \"\";\r\n        } \r\n        else if (parseInt(number) === 1)\r\n        {\r\n            return <span className=\"material-icons\">emoji_events</span>\r\n        }\r\n\r\n    }\r\n\r\n    getSongList = () => {\r\n        let bandit = this.props.match.params.user;\r\n        console.log('starting song api request');\r\n        let fullURL = `${BASE_URL}/user/${bandit}`;\r\n        axios.get(fullURL)\r\n        .then(res => {\r\n            console.log(\"bandit songs axios: \", res);\r\n            this.setState({ Songs: res.data }, this.getSongJSX);    \r\n        });\r\n    }\r\n\r\n    componentDidMount(){\r\n        console.log('bandit display rendered', this.props);\r\n        this.getSongList();\r\n    }\r\n\r\n\r\n    getSongJSX = () => {\r\n        let JSX = this.state.Songs.map((song, i) => {\r\n\r\n            let trackTrophy = this.convertToTrophy(song.winner);\r\n                    return(\r\n\r\n                        <div key={i} className=\"SongDisplay__Item\">\r\n                            \r\n                                            <div className=\"SongDisplay__Item__PlayIcon\" >\r\n                                                <span className=\"material-icons\" \r\n                                                onClick={this.props.play} \r\n                                                data-musicSrc={song.streamurl}\r\n                                                data-name={song.name}\r\n                                                data-artists={`${song.music}, ${song.lyrics}, ${song.vocals}`}>\r\n                play_circle_filled\r\n                </span></div>\r\n\r\n                <div className=\"SongDisplay__Item__PlayListAdd\"><span className=\"material-icons\">\r\n                playlist_add\r\n                </span></div>\r\n            \r\n                            <div className=\"SongDisplay__Item__Round\">{song.round}</div>\r\n                            <div className=\"SongDisplay__Item__Name\">{he.decode(song.name)}</div>\r\n                            <div className=\"SongDisplay__Item__TrackWin\">\r\n                            {trackTrophy}\r\n                                </div>\r\n                                <div className=\"SongDisplay__Item__TrackVotes\">{song.votes}</div>\r\n                            <div className=\"SongDisplay__Item__Musician\"><Link to={`/bandit/${song.music}`} className=\"ProfileLink\" >{song.music}</Link></div>\r\n                            <div className=\"SongDisplay__Item__MusicVotes\">{song.musicvote}</div>\r\n                            <div className=\"SongDisplay__Item__Lyricist\"><Link to={`/bandit/${song.lyrics}`} className=\"ProfileLink\" >{song.lyrics}</Link></div>\r\n                            <div className=\"SongDisplay__Item__LyricVotes\">{song.lyricsvote}</div>\r\n                            <div className=\"SongDisplay__Item__Vocals\"><Link to={`/bandit/${song.vocals}`} className=\"ProfileLink\" >{song.vocals}</Link></div>\r\n                            <div className=\"SongDisplay__Item__VocalVotes\">{song.vocalsvote}</div>\r\n                            \r\n                            \r\n                            \r\n                        </div>\r\n                    );\r\n            });\r\n\r\n            this.setState({ songJSX: JSX });\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            \r\n                <>\r\n                {this.state.songJSX === '' ? \r\n                <div className=\"MyLoader\">\r\n                <ReactLoading type=\"spin\" color=\"#7c61f7\" height={'5%'} width={'5%'} /> \r\n                </div>\r\n                \r\n                : \r\n                \r\n                <div className=\"SongDisplay\">\r\n                {this.state.songJSX}\r\n                </div>\r\n                \r\n                }\r\n                </>\r\n                \r\n        );\r\n    }\r\n}\r\n\r\nexport default SongDisplay;","import React, { useState, Component } from 'react';\nimport { BrowserRouter as Router, Route, Link, Switch } from 'react-router-dom';\nimport './App.css';\n// import songs from './data/songs.json';\nimport Navbar from './Navbar/Navbar';\nimport SongDisplay from './SongDisplay/SongDisplay';\nimport SubmitSong from './SubmitSong/SubmitSong';\n// import Admin from './Admin/Admin';\nimport AdminSongDisplay from './AdminSongDisplay/AdminSongDisplay';\nimport SongEditor from './SongEditor/SongEditor';\nimport Bandit from './Bandit/Bandit';\n// import AudioPlayer from './AudioPlayer/AudioPlayer';\n// require('wavesurfer.js');\nimport ReactJkMusicPlayer from \"react-jinke-music-player\";\nimport \"react-jinke-music-player/assets/index.css\";\n\nimport { BASE_URL } from './constants';\n\n\n\nclass App extends Component {\n  constructor() {\n      super();\n\n      this.state = {\n        auth: false,\n        content: 'You must be logged in to do that.',\n        playerActive: false\n      }\n  }\n\n  componentDidMount(){\n    this.sessionCheck();\n  }\n\n  startPlayer = event => {\n    // console.log('player', this.state, event.target);\n\n    console.log(event.target.getAttribute('data-name'),event.target.getAttribute('data-artists'), event.target.getAttribute('data-musicsrc'));\n    if(!this.state.playerActive) {\n        this.setState({ playerActive: true, \n          opts: {\n            mode: 'full',\n            toggleMode: false,\n            autoHiddenCover: true,\n            glassBg: true,\n            // showPlayMode: false,\n            showThemeSwitch: false,\n            showDownload: false,\n            preload: true,\n          },\n          audio:  [{\n            name: event.target.getAttribute('data-name'),\n            singer: event.target.getAttribute('data-artists'),\n            musicSrc: event.target.getAttribute('data-musicsrc')\n          }]\n        });\n          \n        \n    }\n    else {\n      this.setState({ \n        audioList: {\n          name: event.target['data-name'],\n          singer: event.target['data-artists'],\n          musicSrc: event.target['data-url']\n        }\n      })\n    }\n    \n  }\n\n  play = event => {\n      // this.setState({ currentSong: event.target['data-url']})\n  }\n\n  sessionCheck = () => {\n\n    let url = `${BASE_URL}/sessioncheck`;\n    fetch(url, { \n            credentials: \"include\", \n    })\n    .then(res => res.json())\n    .then(res => {\n        console.log(\"Fetch Response: \", res);\n\n        if(\"key\" in res && this.state.auth === false) {\n            this.setState({\n                auth: true,\n                username: res.key,\n                access_token: res.tokens.access_token,\n                refresh_token: res.tokens.refresh_token,\n                expiry: res.tokens.expires_at,\n                expirySeconds: res.tokens.expires_in\n            });\n\n            this.setState({ auth: true} );\n        }\n        else {\n\n        }\n\n    });\n}\n\n\n\n  render() {\n    \n      return (\n        <div className=\"App\">\n          <Router>\n          <Navbar />\n          <Switch>\n            <Route exact path=\"/\"  render={() => <SongDisplay play={this.startPlayer} />}/>\n            <Route exact path=\"/submitsong\"  component={SubmitSong}/>\n            <Route  exact path=\"/bandit/:user\" render={routerProps => <Bandit {...routerProps} {...this.state} /> }  />\n            \n            {/* <Route exact path=\"/admin\"  component={Admin}/> */}\n          {/* <SongDisplay /> */}\n\n\n          {this.state.auth === true ? \n            <Route path=\"/admin\">\n            <div className=\"AdminContainer\">\n                    <div className=\"AdminMenuBar\">\n                      <div className=\"AdminMenuBar__Header\"> Moderator Functions</div>\n                    <div className=\"AdminMenuBar__Link\"><Link to=\"/admin\">Song List View</Link></div>\n                    <div className=\"AdminMenuBar__Link\">Round List View</div>\n                    </div>\n              <Switch>\n               \n                <Route  path=\"/admin/edit/:id\" render={routerProps => <SongEditor {...routerProps} /> }  />\n                \n                <Route exact path=\"/admin\" component={AdminSongDisplay} />         \n               \n              </Switch>          \n           \n            </div>\n\n            </Route> \n            \n            : \n            \n            <Route path=\"/admin\">\n               {/* <div className=\"AdminContainer\"> */}\n              <h3 className=\"Nope\">{this.state.content}</h3>\n              {/* </div> */}\n               </Route> }\n\n\n\n          </Switch>\n          {this.state.playerActive === true ? \n          \n            \n            <ReactJkMusicPlayer {...this.state.opts} audioLists={this.state.audio} />\n          :\n            '' \n          }\n\n          </Router>\n          {/* <AudioPlayer url=\"https://api.soundcloud.com/tracks/797171077/stream\" /> */}\n\n      \n        \n        </div>\n      );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\n// import 'bootstrap/dist/css/bootstrap.min.css';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}